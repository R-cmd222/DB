INFO:     Started server process [68820]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:9527 (Press CTRL+C to quit)
INFO:     127.0.0.1:64232 - "OPTIONS /login HTTP/1.1" 200 OK
2025-06-25 16:43:25,277 INFO sqlalchemy.engine.Engine SELECT CAST(SERVERPROPERTY('ProductVersion') AS VARCHAR)
2025-06-25 16:43:25,277 INFO SELECT CAST(SERVERPROPERTY('ProductVersion') AS VARCHAR)
2025-06-25 16:43:25,281 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-25 16:43:25,281 INFO [raw sql] ()
2025-06-25 16:43:25,281 INFO sqlalchemy.engine.Engine SELECT schema_name()
2025-06-25 16:43:25,281 INFO SELECT schema_name()
2025-06-25 16:43:25,281 INFO sqlalchemy.engine.Engine [generated in 0.00043s] ()
2025-06-25 16:43:25,281 INFO [generated in 0.00043s] ()
2025-06-25 16:43:27,528 INFO sqlalchemy.engine.Engine SELECT CAST('test max support' AS NVARCHAR(max))
2025-06-25 16:43:27,528 INFO SELECT CAST('test max support' AS NVARCHAR(max))
2025-06-25 16:43:27,528 INFO sqlalchemy.engine.Engine [generated in 0.00070s] ()
2025-06-25 16:43:27,528 INFO [generated in 0.00070s] ()
2025-06-25 16:43:27,528 INFO sqlalchemy.engine.Engine SELECT 1 FROM fn_listextendedproperty(default, default, default, default, default, default, default)
2025-06-25 16:43:27,528 INFO SELECT 1 FROM fn_listextendedproperty(default, default, default, default, default, default, default)
2025-06-25 16:43:27,532 INFO sqlalchemy.engine.Engine [generated in 0.00050s] ()
2025-06-25 16:43:27,532 INFO [generated in 0.00050s] ()
2025-06-25 16:43:27,852 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-25 16:43:27,852 INFO BEGIN (implicit)
2025-06-25 16:43:27,857 INFO sqlalchemy.engine.Engine SELECT TOP 1 [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone], [Employees].username AS [Employees_username], [Employees].password AS [Employees_password], [Employees].role AS [Employees_role] 
FROM [Employees] 
WHERE [Employees].username = ?
2025-06-25 16:43:27,857 INFO SELECT TOP 1 [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone], [Employees].username AS [Employees_username], [Employees].password AS [Employees_password], [Employees].role AS [Employees_role] 
FROM [Employees] 
WHERE [Employees].username = ?
2025-06-25 16:43:28,048 INFO sqlalchemy.engine.Engine [generated in 0.19333s] ('admin1',)
2025-06-25 16:43:28,048 INFO [generated in 0.19333s] ('admin1',)
INFO:     127.0.0.1:64232 - "POST /login HTTP/1.1" 200 OK
2025-06-25 16:43:28,060 INFO sqlalchemy.engine.Engine ROLLBACK
2025-06-25 16:43:28,060 INFO ROLLBACK
INFO:     127.0.0.1:64232 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64233 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64233 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64232 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64232 - "OPTIONS /stats HTTP/1.1" 200 OK
2025-06-25 16:43:28,185 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-25 16:43:28,185 INFO BEGIN (implicit)
2025-06-25 16:43:28,190 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]) AS anon_1
2025-06-25 16:43:28,190 INFO SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]) AS anon_1
2025-06-25 16:43:28,190 INFO sqlalchemy.engine.Engine [generated in 0.00086s] ()
2025-06-25 16:43:28,190 INFO [generated in 0.00086s] ()
2025-06-25 16:43:28,199 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills]) AS anon_1
2025-06-25 16:43:28,199 INFO SELECT count(*) AS count_1 
FROM (SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills]) AS anon_1
2025-06-25 16:43:28,199 INFO sqlalchemy.engine.Engine [generated in 0.00047s] ()
2025-06-25 16:43:28,199 INFO [generated in 0.00047s] ()
2025-06-25 16:43:28,206 INFO sqlalchemy.engine.Engine SELECT sum([Products].[Stock]) AS sum_1 
FROM [Products]
2025-06-25 16:43:28,206 INFO SELECT sum([Products].[Stock]) AS sum_1 
FROM [Products]
2025-06-25 16:43:28,207 INFO sqlalchemy.engine.Engine [generated in 0.00073s] ()
2025-06-25 16:43:28,207 INFO [generated in 0.00073s] ()
2025-06-25 16:43:28,211 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[Stock] < ?) AS anon_1
2025-06-25 16:43:28,211 INFO SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[Stock] < ?) AS anon_1
2025-06-25 16:43:28,211 INFO sqlalchemy.engine.Engine [generated in 0.00056s] (10,)
2025-06-25 16:43:28,211 INFO [generated in 0.00056s] (10,)
INFO:     127.0.0.1:64232 - "GET /stats HTTP/1.1" 200 OK
2025-06-25 16:43:28,216 INFO sqlalchemy.engine.Engine ROLLBACK
2025-06-25 16:43:28,216 INFO ROLLBACK
2025-06-25 16:43:28,219 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-25 16:43:28,219 INFO BEGIN (implicit)
2025-06-25 16:43:28,219 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]) AS anon_1
2025-06-25 16:43:28,219 INFO SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]) AS anon_1
2025-06-25 16:43:28,219 INFO sqlalchemy.engine.Engine [cached since 0.02936s ago] ()
2025-06-25 16:43:28,219 INFO [cached since 0.02936s ago] ()
INFO:     127.0.0.1:64232 - "OPTIONS /dashboard/sales HTTP/1.1" 200 OK
2025-06-25 16:43:28,219 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills]) AS anon_1
2025-06-25 16:43:28,219 INFO SELECT count(*) AS count_1 
FROM (SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills]) AS anon_1
2025-06-25 16:43:28,223 INFO sqlalchemy.engine.Engine [cached since 0.02277s ago] ()
2025-06-25 16:43:28,223 INFO [cached since 0.02277s ago] ()
2025-06-25 16:43:28,224 INFO sqlalchemy.engine.Engine SELECT sum([Products].[Stock]) AS sum_1 
FROM [Products]
2025-06-25 16:43:28,224 INFO SELECT sum([Products].[Stock]) AS sum_1 
FROM [Products]
2025-06-25 16:43:28,224 INFO sqlalchemy.engine.Engine [cached since 0.0191s ago] ()
2025-06-25 16:43:28,224 INFO [cached since 0.0191s ago] ()
2025-06-25 16:43:28,228 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[Stock] < ?) AS anon_1
2025-06-25 16:43:28,228 INFO SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[Stock] < ?) AS anon_1
2025-06-25 16:43:28,228 INFO sqlalchemy.engine.Engine [cached since 0.01748s ago] (10,)
2025-06-25 16:43:28,228 INFO [cached since 0.01748s ago] (10,)
INFO:     127.0.0.1:64233 - "GET /stats HTTP/1.1" 200 OK
2025-06-25 16:43:28,232 INFO sqlalchemy.engine.Engine ROLLBACK
2025-06-25 16:43:28,232 INFO ROLLBACK
2025-06-25 16:43:28,234 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-25 16:43:28,234 INFO BEGIN (implicit)
2025-06-25 16:43:28,236 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 16:43:28,236 INFO SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 16:43:28,236 INFO sqlalchemy.engine.Engine [generated in 0.00052s] (datetime.datetime(2025, 6, 25, 0, 0), '已结账')
2025-06-25 16:43:28,236 INFO [generated in 0.00052s] (datetime.datetime(2025, 6, 25, 0, 0), '已结账')
2025-06-25 16:43:28,240 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 16:43:28,240 INFO SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 16:43:28,240 INFO sqlalchemy.engine.Engine [cached since 0.005094s ago] (datetime.datetime(2025, 6, 23, 0, 0), '已结账')
2025-06-25 16:43:28,240 INFO [cached since 0.005094s ago] (datetime.datetime(2025, 6, 23, 0, 0), '已结账')
2025-06-25 16:43:28,244 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
2025-06-25 16:43:28,244 INFO SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
2025-06-25 16:43:28,245 INFO sqlalchemy.engine.Engine [generated in 0.00056s] (datetime.datetime(2025, 6, 16, 0, 0), datetime.datetime(2025, 6, 22, 23, 59, 59), '已结账')
2025-06-25 16:43:28,245 INFO [generated in 0.00056s] (datetime.datetime(2025, 6, 16, 0, 0), datetime.datetime(2025, 6, 22, 23, 59, 59), '已结账')
2025-06-25 16:43:28,248 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 16:43:28,248 INFO SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 16:43:28,248 INFO sqlalchemy.engine.Engine [cached since 0.01136s ago] (datetime.datetime(2025, 6, 1, 0, 0), '已结账')
2025-06-25 16:43:28,248 INFO [cached since 0.01136s ago] (datetime.datetime(2025, 6, 1, 0, 0), '已结账')
INFO:     127.0.0.1:64232 - "GET /dashboard/sales HTTP/1.1" 200 OK
2025-06-25 16:43:28,248 INFO sqlalchemy.engine.Engine ROLLBACK
2025-06-25 16:43:28,248 INFO ROLLBACK
2025-06-25 16:43:28,253 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-25 16:43:28,253 INFO BEGIN (implicit)
2025-06-25 16:43:28,253 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 16:43:28,253 INFO SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 16:43:28,253 INFO sqlalchemy.engine.Engine [cached since 0.01713s ago] (datetime.datetime(2025, 6, 25, 0, 0), '已结账')
2025-06-25 16:43:28,253 INFO [cached since 0.01713s ago] (datetime.datetime(2025, 6, 25, 0, 0), '已结账')
INFO:     127.0.0.1:64232 - "OPTIONS /dashboard/top-products?limit=5 HTTP/1.1" 200 OK
2025-06-25 16:43:28,256 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 16:43:28,256 INFO SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 16:43:28,257 INFO sqlalchemy.engine.Engine [cached since 0.02043s ago] (datetime.datetime(2025, 6, 23, 0, 0), '已结账')
2025-06-25 16:43:28,257 INFO [cached since 0.02043s ago] (datetime.datetime(2025, 6, 23, 0, 0), '已结账')
2025-06-25 16:43:28,258 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
2025-06-25 16:43:28,258 INFO SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
2025-06-25 16:43:28,261 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-25 16:43:28,261 INFO BEGIN (implicit)
2025-06-25 16:43:28,261 INFO sqlalchemy.engine.Engine [cached since 0.01759s ago] (datetime.datetime(2025, 6, 16, 0, 0), datetime.datetime(2025, 6, 22, 23, 59, 59), '已结账')
2025-06-25 16:43:28,261 INFO [cached since 0.01759s ago] (datetime.datetime(2025, 6, 16, 0, 0), datetime.datetime(2025, 6, 22, 23, 59, 59), '已结账')
2025-06-25 16:43:28,265 INFO sqlalchemy.engine.Engine SELECT TOP 5 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
2025-06-25 16:43:28,265 INFO SELECT TOP 5 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
2025-06-25 16:43:28,265 INFO sqlalchemy.engine.Engine [generated in 0.00098s] ('已结账',)
2025-06-25 16:43:28,265 INFO [generated in 0.00098s] ('已结账',)
2025-06-25 16:43:28,265 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 16:43:28,265 INFO SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 16:43:28,265 INFO sqlalchemy.engine.Engine [cached since 0.03027s ago] (datetime.datetime(2025, 6, 1, 0, 0), '已结账')
2025-06-25 16:43:28,265 INFO [cached since 0.03027s ago] (datetime.datetime(2025, 6, 1, 0, 0), '已结账')
INFO:     127.0.0.1:64233 - "GET /dashboard/sales HTTP/1.1" 200 OK
2025-06-25 16:43:28,269 INFO sqlalchemy.engine.Engine ROLLBACK
2025-06-25 16:43:28,269 INFO ROLLBACK
INFO:     127.0.0.1:64232 - "GET /dashboard/top-products?limit=5 HTTP/1.1" 200 OK
2025-06-25 16:43:28,274 INFO sqlalchemy.engine.Engine ROLLBACK
2025-06-25 16:43:28,274 INFO ROLLBACK
2025-06-25 16:43:28,278 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-25 16:43:28,278 INFO BEGIN (implicit)
2025-06-25 16:43:28,278 INFO sqlalchemy.engine.Engine SELECT TOP 5 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
2025-06-25 16:43:28,278 INFO SELECT TOP 5 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
2025-06-25 16:43:28,278 INFO sqlalchemy.engine.Engine [cached since 0.01443s ago] ('已结账',)
2025-06-25 16:43:28,278 INFO [cached since 0.01443s ago] ('已结账',)
INFO:     127.0.0.1:64233 - "GET /dashboard/top-products?limit=5 HTTP/1.1" 200 OK
2025-06-25 16:43:28,281 INFO sqlalchemy.engine.Engine ROLLBACK
2025-06-25 16:43:28,281 INFO ROLLBACK
INFO:     127.0.0.1:64233 - "OPTIONS /categories HTTP/1.1" 200 OK
2025-06-25 16:43:30,313 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-25 16:43:30,313 INFO BEGIN (implicit)
2025-06-25 16:43:30,314 INFO sqlalchemy.engine.Engine SELECT DISTINCT [Products].[Category] AS [Products_Category] 
FROM [Products]
2025-06-25 16:43:30,314 INFO SELECT DISTINCT [Products].[Category] AS [Products_Category] 
FROM [Products]
2025-06-25 16:43:30,315 INFO sqlalchemy.engine.Engine [generated in 0.00064s] ()
2025-06-25 16:43:30,315 INFO [generated in 0.00064s] ()
INFO:     127.0.0.1:64233 - "GET /categories HTTP/1.1" 200 OK
2025-06-25 16:43:30,320 INFO sqlalchemy.engine.Engine ROLLBACK
2025-06-25 16:43:30,320 INFO ROLLBACK
INFO:     127.0.0.1:64233 - "OPTIONS /products HTTP/1.1" 200 OK
2025-06-25 16:43:30,332 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-25 16:43:30,332 INFO BEGIN (implicit)
2025-06-25 16:43:30,333 INFO sqlalchemy.engine.Engine SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]
2025-06-25 16:43:30,333 INFO SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]
2025-06-25 16:43:30,334 INFO sqlalchemy.engine.Engine [generated in 0.00058s] ()
2025-06-25 16:43:30,334 INFO [generated in 0.00058s] ()
INFO:     127.0.0.1:64233 - "GET /products HTTP/1.1" 200 OK
2025-06-25 16:43:30,337 INFO sqlalchemy.engine.Engine ROLLBACK
2025-06-25 16:43:30,337 INFO ROLLBACK
INFO:     127.0.0.1:64233 - "OPTIONS /report/sales?start=2025-05-26&end=2025-06-25&unit=day HTTP/1.1" 200 OK
2025-06-25 16:43:30,916 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-25 16:43:30,916 INFO BEGIN (implicit)
2025-06-25 16:43:30,917 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
2025-06-25 16:43:30,917 INFO SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
2025-06-25 16:43:30,918 INFO sqlalchemy.engine.Engine [generated in 0.00065s] (datetime.datetime(2025, 5, 26, 0, 0), datetime.datetime(2025, 6, 25, 23, 59, 59), '已结账')
2025-06-25 16:43:30,918 INFO [generated in 0.00065s] (datetime.datetime(2025, 5, 26, 0, 0), datetime.datetime(2025, 6, 25, 23, 59, 59), '已结账')
2025-06-25 16:43:30,927 INFO sqlalchemy.engine.Engine SELECT TOP 10 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales, sum([BillItems].[Price] * [BillItems].[Quantity]) AS revenue 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
2025-06-25 16:43:30,927 INFO SELECT TOP 10 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales, sum([BillItems].[Price] * [BillItems].[Quantity]) AS revenue 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
2025-06-25 16:43:30,928 INFO sqlalchemy.engine.Engine [generated in 0.00075s] (datetime.datetime(2025, 5, 26, 0, 0), datetime.datetime(2025, 6, 25, 23, 59, 59), '已结账')
2025-06-25 16:43:30,928 INFO [generated in 0.00075s] (datetime.datetime(2025, 5, 26, 0, 0), datetime.datetime(2025, 6, 25, 23, 59, 59), '已结账')
INFO:     127.0.0.1:64233 - "GET /report/sales?start=2025-05-26&end=2025-06-25&unit=day HTTP/1.1" 200 OK
2025-06-25 16:43:30,932 INFO sqlalchemy.engine.Engine ROLLBACK
2025-06-25 16:43:30,932 INFO ROLLBACK
2025-06-25 16:43:36,898 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-25 16:43:36,898 INFO BEGIN (implicit)
2025-06-25 16:43:36,898 INFO sqlalchemy.engine.Engine SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]
2025-06-25 16:43:36,898 INFO SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]
2025-06-25 16:43:36,898 INFO sqlalchemy.engine.Engine [cached since 6.569s ago] ()
2025-06-25 16:43:36,898 INFO [cached since 6.569s ago] ()
INFO:     127.0.0.1:64245 - "GET /products HTTP/1.1" 200 OK
2025-06-25 16:43:36,902 INFO sqlalchemy.engine.Engine ROLLBACK
2025-06-25 16:43:36,902 INFO ROLLBACK
INFO:     127.0.0.1:64245 - "OPTIONS /guests HTTP/1.1" 200 OK
2025-06-25 16:43:37,064 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-25 16:43:37,064 INFO BEGIN (implicit)
2025-06-25 16:43:37,065 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests]
2025-06-25 16:43:37,065 INFO SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests]
2025-06-25 16:43:37,065 INFO sqlalchemy.engine.Engine [generated in 0.00045s] ()
2025-06-25 16:43:37,065 INFO [generated in 0.00045s] ()
2025-06-25 16:43:37,071 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:37,071 INFO SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:37,071 INFO sqlalchemy.engine.Engine [generated in 0.00053s] (1,)
2025-06-25 16:43:37,071 INFO [generated in 0.00053s] (1,)
2025-06-25 16:43:37,071 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:37,071 INFO SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:37,071 INFO sqlalchemy.engine.Engine [cached since 0.004407s ago] (2,)
2025-06-25 16:43:37,071 INFO [cached since 0.004407s ago] (2,)
2025-06-25 16:43:37,071 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:37,071 INFO SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:37,071 INFO sqlalchemy.engine.Engine [cached since 0.006839s ago] (3,)
2025-06-25 16:43:37,071 INFO [cached since 0.006839s ago] (3,)
2025-06-25 16:43:37,071 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:37,071 INFO SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:37,071 INFO sqlalchemy.engine.Engine [cached since 0.008817s ago] (4,)
2025-06-25 16:43:37,071 INFO [cached since 0.008817s ago] (4,)
2025-06-25 16:43:37,082 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:37,082 INFO SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:37,082 INFO sqlalchemy.engine.Engine [cached since 0.01115s ago] (5,)
2025-06-25 16:43:37,082 INFO [cached since 0.01115s ago] (5,)
2025-06-25 16:43:37,082 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:37,082 INFO SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:37,082 INFO sqlalchemy.engine.Engine [cached since 0.01295s ago] (6,)
2025-06-25 16:43:37,082 INFO [cached since 0.01295s ago] (6,)
2025-06-25 16:43:37,086 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:37,086 INFO SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:37,086 INFO sqlalchemy.engine.Engine [cached since 0.01505s ago] (8,)
2025-06-25 16:43:37,086 INFO [cached since 0.01505s ago] (8,)
2025-06-25 16:43:37,086 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:37,086 INFO SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:37,086 INFO sqlalchemy.engine.Engine [cached since 0.01699s ago] (13,)
2025-06-25 16:43:37,086 INFO [cached since 0.01699s ago] (13,)
2025-06-25 16:43:37,090 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:37,090 INFO SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:37,090 INFO sqlalchemy.engine.Engine [cached since 0.01936s ago] (14,)
2025-06-25 16:43:37,090 INFO [cached since 0.01936s ago] (14,)
INFO:     127.0.0.1:64245 - "GET /guests HTTP/1.1" 200 OK
2025-06-25 16:43:37,094 INFO sqlalchemy.engine.Engine ROLLBACK
2025-06-25 16:43:37,094 INFO ROLLBACK
2025-06-25 16:43:37,613 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-25 16:43:37,613 INFO BEGIN (implicit)
2025-06-25 16:43:37,614 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
2025-06-25 16:43:37,614 INFO SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
2025-06-25 16:43:37,614 INFO sqlalchemy.engine.Engine [cached since 6.697s ago] (datetime.datetime(2025, 5, 26, 0, 0), datetime.datetime(2025, 6, 25, 23, 59, 59), '已结账')
2025-06-25 16:43:37,614 INFO [cached since 6.697s ago] (datetime.datetime(2025, 5, 26, 0, 0), datetime.datetime(2025, 6, 25, 23, 59, 59), '已结账')
2025-06-25 16:43:37,618 INFO sqlalchemy.engine.Engine SELECT TOP 10 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales, sum([BillItems].[Price] * [BillItems].[Quantity]) AS revenue 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
2025-06-25 16:43:37,618 INFO SELECT TOP 10 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales, sum([BillItems].[Price] * [BillItems].[Quantity]) AS revenue 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
2025-06-25 16:43:37,618 INFO sqlalchemy.engine.Engine [cached since 6.691s ago] (datetime.datetime(2025, 5, 26, 0, 0), datetime.datetime(2025, 6, 25, 23, 59, 59), '已结账')
2025-06-25 16:43:37,618 INFO [cached since 6.691s ago] (datetime.datetime(2025, 5, 26, 0, 0), datetime.datetime(2025, 6, 25, 23, 59, 59), '已结账')
INFO:     127.0.0.1:64245 - "GET /report/sales?start=2025-05-26&end=2025-06-25&unit=day HTTP/1.1" 200 OK
2025-06-25 16:43:37,621 INFO sqlalchemy.engine.Engine ROLLBACK
2025-06-25 16:43:37,621 INFO ROLLBACK
2025-06-25 16:43:38,721 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-25 16:43:38,721 INFO BEGIN (implicit)
2025-06-25 16:43:38,721 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests]
2025-06-25 16:43:38,721 INFO SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests]
2025-06-25 16:43:38,721 INFO sqlalchemy.engine.Engine [cached since 1.656s ago] ()
2025-06-25 16:43:38,721 INFO [cached since 1.656s ago] ()
2025-06-25 16:43:38,723 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:38,723 INFO SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:38,724 INFO sqlalchemy.engine.Engine [cached since 1.653s ago] (1,)
2025-06-25 16:43:38,724 INFO [cached since 1.653s ago] (1,)
2025-06-25 16:43:38,725 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:38,725 INFO SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:38,726 INFO sqlalchemy.engine.Engine [cached since 1.655s ago] (2,)
2025-06-25 16:43:38,726 INFO [cached since 1.655s ago] (2,)
2025-06-25 16:43:38,728 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:38,728 INFO SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:38,728 INFO sqlalchemy.engine.Engine [cached since 1.657s ago] (3,)
2025-06-25 16:43:38,728 INFO [cached since 1.657s ago] (3,)
2025-06-25 16:43:38,728 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:38,728 INFO SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:38,728 INFO sqlalchemy.engine.Engine [cached since 1.659s ago] (4,)
2025-06-25 16:43:38,728 INFO [cached since 1.659s ago] (4,)
2025-06-25 16:43:38,731 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:38,731 INFO SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:38,732 INFO sqlalchemy.engine.Engine [cached since 1.661s ago] (5,)
2025-06-25 16:43:38,732 INFO [cached since 1.661s ago] (5,)
2025-06-25 16:43:38,732 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:38,732 INFO SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:38,732 INFO sqlalchemy.engine.Engine [cached since 1.662s ago] (6,)
2025-06-25 16:43:38,732 INFO [cached since 1.662s ago] (6,)
2025-06-25 16:43:38,732 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:38,732 INFO SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:38,736 INFO sqlalchemy.engine.Engine [cached since 1.664s ago] (8,)
2025-06-25 16:43:38,736 INFO [cached since 1.664s ago] (8,)
2025-06-25 16:43:38,737 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:38,737 INFO SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:38,737 INFO sqlalchemy.engine.Engine [cached since 1.666s ago] (13,)
2025-06-25 16:43:38,737 INFO [cached since 1.666s ago] (13,)
2025-06-25 16:43:38,737 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:38,737 INFO SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:38,740 INFO sqlalchemy.engine.Engine [cached since 1.668s ago] (14,)
2025-06-25 16:43:38,740 INFO [cached since 1.668s ago] (14,)
INFO:     127.0.0.1:64245 - "GET /guests HTTP/1.1" 200 OK
2025-06-25 16:43:38,741 INFO sqlalchemy.engine.Engine ROLLBACK
2025-06-25 16:43:38,741 INFO ROLLBACK
2025-06-25 16:43:39,584 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-25 16:43:39,584 INFO BEGIN (implicit)
2025-06-25 16:43:39,585 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
2025-06-25 16:43:39,585 INFO SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
2025-06-25 16:43:39,585 INFO sqlalchemy.engine.Engine [cached since 8.667s ago] (datetime.datetime(2025, 5, 26, 0, 0), datetime.datetime(2025, 6, 25, 23, 59, 59), '已结账')
2025-06-25 16:43:39,585 INFO [cached since 8.667s ago] (datetime.datetime(2025, 5, 26, 0, 0), datetime.datetime(2025, 6, 25, 23, 59, 59), '已结账')
2025-06-25 16:43:39,588 INFO sqlalchemy.engine.Engine SELECT TOP 10 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales, sum([BillItems].[Price] * [BillItems].[Quantity]) AS revenue 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
2025-06-25 16:43:39,588 INFO SELECT TOP 10 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales, sum([BillItems].[Price] * [BillItems].[Quantity]) AS revenue 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
2025-06-25 16:43:39,588 INFO sqlalchemy.engine.Engine [cached since 8.662s ago] (datetime.datetime(2025, 5, 26, 0, 0), datetime.datetime(2025, 6, 25, 23, 59, 59), '已结账')
2025-06-25 16:43:39,588 INFO [cached since 8.662s ago] (datetime.datetime(2025, 5, 26, 0, 0), datetime.datetime(2025, 6, 25, 23, 59, 59), '已结账')
INFO:     127.0.0.1:64245 - "GET /report/sales?start=2025-05-26&end=2025-06-25&unit=day HTTP/1.1" 200 OK
2025-06-25 16:43:39,592 INFO sqlalchemy.engine.Engine ROLLBACK
2025-06-25 16:43:39,592 INFO ROLLBACK
2025-06-25 16:43:40,118 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-25 16:43:40,118 INFO BEGIN (implicit)
2025-06-25 16:43:40,119 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests]
2025-06-25 16:43:40,119 INFO SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests]
2025-06-25 16:43:40,119 INFO sqlalchemy.engine.Engine [cached since 3.054s ago] ()
2025-06-25 16:43:40,119 INFO [cached since 3.054s ago] ()
2025-06-25 16:43:40,121 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:40,121 INFO SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:40,122 INFO sqlalchemy.engine.Engine [cached since 3.051s ago] (1,)
2025-06-25 16:43:40,122 INFO [cached since 3.051s ago] (1,)
2025-06-25 16:43:40,123 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:40,123 INFO SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:40,125 INFO sqlalchemy.engine.Engine [cached since 3.053s ago] (2,)
2025-06-25 16:43:40,125 INFO [cached since 3.053s ago] (2,)
2025-06-25 16:43:40,126 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:40,126 INFO SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:40,126 INFO sqlalchemy.engine.Engine [cached since 3.055s ago] (3,)
2025-06-25 16:43:40,126 INFO [cached since 3.055s ago] (3,)
2025-06-25 16:43:40,128 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:40,128 INFO SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:40,128 INFO sqlalchemy.engine.Engine [cached since 3.057s ago] (4,)
2025-06-25 16:43:40,128 INFO [cached since 3.057s ago] (4,)
2025-06-25 16:43:40,129 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:40,129 INFO SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:40,129 INFO sqlalchemy.engine.Engine [cached since 3.059s ago] (5,)
2025-06-25 16:43:40,129 INFO [cached since 3.059s ago] (5,)
2025-06-25 16:43:40,131 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:40,131 INFO SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:40,131 INFO sqlalchemy.engine.Engine [cached since 3.06s ago] (6,)
2025-06-25 16:43:40,131 INFO [cached since 3.06s ago] (6,)
2025-06-25 16:43:40,133 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:40,133 INFO SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:40,133 INFO sqlalchemy.engine.Engine [cached since 3.062s ago] (8,)
2025-06-25 16:43:40,133 INFO [cached since 3.062s ago] (8,)
2025-06-25 16:43:40,134 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:40,134 INFO SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:40,136 INFO sqlalchemy.engine.Engine [cached since 3.064s ago] (13,)
2025-06-25 16:43:40,136 INFO [cached since 3.064s ago] (13,)
2025-06-25 16:43:40,137 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:40,137 INFO SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 16:43:40,137 INFO sqlalchemy.engine.Engine [cached since 3.066s ago] (14,)
2025-06-25 16:43:40,137 INFO [cached since 3.066s ago] (14,)
INFO:     127.0.0.1:64245 - "GET /guests HTTP/1.1" 200 OK
2025-06-25 16:43:40,137 INFO sqlalchemy.engine.Engine ROLLBACK
2025-06-25 16:43:40,137 INFO ROLLBACK
2025-06-25 16:43:40,663 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-25 16:43:40,663 INFO BEGIN (implicit)
2025-06-25 16:43:40,664 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
2025-06-25 16:43:40,664 INFO SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
2025-06-25 16:43:40,664 INFO sqlalchemy.engine.Engine [cached since 9.747s ago] (datetime.datetime(2025, 5, 26, 0, 0), datetime.datetime(2025, 6, 25, 23, 59, 59), '已结账')
2025-06-25 16:43:40,664 INFO [cached since 9.747s ago] (datetime.datetime(2025, 5, 26, 0, 0), datetime.datetime(2025, 6, 25, 23, 59, 59), '已结账')
2025-06-25 16:43:40,668 INFO sqlalchemy.engine.Engine SELECT TOP 10 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales, sum([BillItems].[Price] * [BillItems].[Quantity]) AS revenue 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
2025-06-25 16:43:40,668 INFO SELECT TOP 10 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales, sum([BillItems].[Price] * [BillItems].[Quantity]) AS revenue 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
2025-06-25 16:43:40,668 INFO sqlalchemy.engine.Engine [cached since 9.741s ago] (datetime.datetime(2025, 5, 26, 0, 0), datetime.datetime(2025, 6, 25, 23, 59, 59), '已结账')
2025-06-25 16:43:40,668 INFO [cached since 9.741s ago] (datetime.datetime(2025, 5, 26, 0, 0), datetime.datetime(2025, 6, 25, 23, 59, 59), '已结账')
INFO:     127.0.0.1:64245 - "GET /report/sales?start=2025-05-26&end=2025-06-25&unit=day HTTP/1.1" 200 OK
2025-06-25 16:43:40,671 INFO sqlalchemy.engine.Engine ROLLBACK
2025-06-25 16:43:40,671 INFO ROLLBACK
2025-06-25 16:43:49,285 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-25 16:43:49,285 INFO BEGIN (implicit)
2025-06-25 16:43:49,285 INFO sqlalchemy.engine.Engine SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]
2025-06-25 16:43:49,285 INFO SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]
2025-06-25 16:43:49,286 INFO sqlalchemy.engine.Engine [cached since 18.95s ago] ()
2025-06-25 16:43:49,286 INFO [cached since 18.95s ago] ()
INFO:     127.0.0.1:64246 - "GET /products HTTP/1.1" 200 OK
2025-06-25 16:43:49,289 INFO sqlalchemy.engine.Engine ROLLBACK
2025-06-25 16:43:49,289 INFO ROLLBACK
2025-06-25 16:43:49,910 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-25 16:43:49,910 INFO BEGIN (implicit)
2025-06-25 16:43:49,910 INFO sqlalchemy.engine.Engine SELECT DISTINCT [Products].[Category] AS [Products_Category] 
FROM [Products]
2025-06-25 16:43:49,910 INFO SELECT DISTINCT [Products].[Category] AS [Products_Category] 
FROM [Products]
2025-06-25 16:43:49,910 INFO sqlalchemy.engine.Engine [cached since 19.6s ago] ()
2025-06-25 16:43:49,910 INFO [cached since 19.6s ago] ()
INFO:     127.0.0.1:64246 - "GET /categories HTTP/1.1" 200 OK
2025-06-25 16:43:49,912 INFO sqlalchemy.engine.Engine ROLLBACK
2025-06-25 16:43:49,912 INFO ROLLBACK
2025-06-25 16:43:49,921 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-25 16:43:49,921 INFO BEGIN (implicit)
2025-06-25 16:43:49,921 INFO sqlalchemy.engine.Engine SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]
2025-06-25 16:43:49,921 INFO SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]
2025-06-25 16:43:49,921 INFO sqlalchemy.engine.Engine [cached since 19.59s ago] ()
2025-06-25 16:43:49,921 INFO [cached since 19.59s ago] ()
INFO:     127.0.0.1:64246 - "GET /products HTTP/1.1" 200 OK
2025-06-25 16:43:49,926 INFO sqlalchemy.engine.Engine ROLLBACK
2025-06-25 16:43:49,926 INFO ROLLBACK
INFO:     127.0.0.1:64246 - "OPTIONS /bills HTTP/1.1" 200 OK
2025-06-25 16:43:50,573 INFO 正在获取订单列表...
2025-06-25 16:43:50,573 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-25 16:43:50,573 INFO BEGIN (implicit)
2025-06-25 16:43:50,574 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] ORDER BY [Bills].[BillDate] DESC
2025-06-25 16:43:50,574 INFO SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] ORDER BY [Bills].[BillDate] DESC
2025-06-25 16:43:50,574 INFO sqlalchemy.engine.Engine [generated in 0.00057s] ()
2025-06-25 16:43:50,574 INFO [generated in 0.00057s] ()
2025-06-25 16:43:50,578 INFO 成功获取到 15 个订单
2025-06-25 16:43:50,578 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-25 16:43:50,578 INFO SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-25 16:43:50,582 INFO sqlalchemy.engine.Engine [generated in 0.00063s] (15,)
2025-06-25 16:43:50,582 INFO [generated in 0.00063s] (15,)
2025-06-25 16:43:50,586 INFO sqlalchemy.engine.Engine SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 16:43:50,586 INFO SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 16:43:50,587 INFO sqlalchemy.engine.Engine [generated in 0.00072s] (8,)
2025-06-25 16:43:50,587 INFO [generated in 0.00072s] (8,)
2025-06-25 16:43:50,591 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-25 16:43:50,591 INFO SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-25 16:43:50,591 INFO sqlalchemy.engine.Engine [generated in 0.00066s] (13,)
2025-06-25 16:43:50,591 INFO [generated in 0.00066s] (13,)
2025-06-25 16:43:50,595 INFO sqlalchemy.engine.Engine SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone], [Employees].username AS [Employees_username], [Employees].password AS [Employees_password], [Employees].role AS [Employees_role] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
2025-06-25 16:43:50,595 INFO SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone], [Employees].username AS [Employees_username], [Employees].password AS [Employees_password], [Employees].role AS [Employees_role] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
2025-06-25 16:43:50,595 INFO sqlalchemy.engine.Engine [generated in 0.00067s] (4,)
2025-06-25 16:43:50,595 INFO [generated in 0.00067s] (4,)
2025-06-25 16:43:50,599 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-25 16:43:50,599 INFO SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-25 16:43:50,599 INFO sqlalchemy.engine.Engine [cached since 0.01949s ago] (14,)
2025-06-25 16:43:50,599 INFO [cached since 0.01949s ago] (14,)
2025-06-25 16:43:50,603 INFO sqlalchemy.engine.Engine SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 16:43:50,603 INFO SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 16:43:50,603 INFO sqlalchemy.engine.Engine [cached since 0.01677s ago] (8,)
2025-06-25 16:43:50,603 INFO [cached since 0.01677s ago] (8,)
2025-06-25 16:43:50,603 INFO sqlalchemy.engine.Engine SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone], [Employees].username AS [Employees_username], [Employees].password AS [Employees_password], [Employees].role AS [Employees_role] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
2025-06-25 16:43:50,603 INFO SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone], [Employees].username AS [Employees_username], [Employees].password AS [Employees_password], [Employees].role AS [Employees_role] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
2025-06-25 16:43:50,603 INFO sqlalchemy.engine.Engine [cached since 0.009713s ago] (1,)
2025-06-25 16:43:50,603 INFO [cached since 0.009713s ago] (1,)
2025-06-25 16:43:50,603 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-25 16:43:50,603 INFO SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-25 16:43:50,607 INFO sqlalchemy.engine.Engine [cached since 0.02553s ago] (13,)
2025-06-25 16:43:50,607 INFO [cached since 0.02553s ago] (13,)
2025-06-25 16:43:50,607 INFO sqlalchemy.engine.Engine SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 16:43:50,607 INFO SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 16:43:50,607 INFO sqlalchemy.engine.Engine [cached since 0.02284s ago] (8,)
2025-06-25 16:43:50,607 INFO [cached since 0.02284s ago] (8,)
2025-06-25 16:43:50,607 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-25 16:43:50,607 INFO SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-25 16:43:50,611 INFO sqlalchemy.engine.Engine [cached since 0.02961s ago] (12,)
2025-06-25 16:43:50,611 INFO [cached since 0.02961s ago] (12,)
2025-06-25 16:43:50,611 INFO sqlalchemy.engine.Engine SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 16:43:50,611 INFO SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 16:43:50,611 INFO sqlalchemy.engine.Engine [cached since 0.02705s ago] (8,)
2025-06-25 16:43:50,611 INFO [cached since 0.02705s ago] (8,)
2025-06-25 16:43:50,611 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-25 16:43:50,611 INFO SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-25 16:43:50,615 INFO sqlalchemy.engine.Engine [cached since 0.03381s ago] (11,)
2025-06-25 16:43:50,615 INFO [cached since 0.03381s ago] (11,)
2025-06-25 16:43:50,616 INFO sqlalchemy.engine.Engine SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 16:43:50,616 INFO SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 16:43:50,616 INFO sqlalchemy.engine.Engine [cached since 0.03125s ago] (8,)
2025-06-25 16:43:50,616 INFO [cached since 0.03125s ago] (8,)
2025-06-25 16:43:50,616 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-25 16:43:50,616 INFO SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-25 16:43:50,619 INFO sqlalchemy.engine.Engine [cached since 0.03799s ago] (10,)
2025-06-25 16:43:50,619 INFO [cached since 0.03799s ago] (10,)
2025-06-25 16:43:50,620 INFO sqlalchemy.engine.Engine SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 16:43:50,620 INFO SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 16:43:50,620 INFO sqlalchemy.engine.Engine [cached since 0.03531s ago] (8,)
2025-06-25 16:43:50,620 INFO [cached since 0.03531s ago] (8,)
2025-06-25 16:43:50,620 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-25 16:43:50,620 INFO SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-25 16:43:50,623 INFO sqlalchemy.engine.Engine [cached since 0.04212s ago] (9,)
2025-06-25 16:43:50,623 INFO [cached since 0.04212s ago] (9,)
2025-06-25 16:43:50,624 INFO sqlalchemy.engine.Engine SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 16:43:50,624 INFO SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 16:43:50,624 INFO sqlalchemy.engine.Engine [cached since 0.03948s ago] (8,)
2025-06-25 16:43:50,624 INFO [cached since 0.03948s ago] (8,)
2025-06-25 16:43:50,624 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-25 16:43:50,624 INFO SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-25 16:43:50,628 INFO sqlalchemy.engine.Engine [cached since 0.04627s ago] (8,)
2025-06-25 16:43:50,628 INFO [cached since 0.04627s ago] (8,)
2025-06-25 16:43:50,628 INFO sqlalchemy.engine.Engine SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 16:43:50,628 INFO SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 16:43:50,628 INFO sqlalchemy.engine.Engine [cached since 0.04349s ago] (8,)
2025-06-25 16:43:50,628 INFO [cached since 0.04349s ago] (8,)
2025-06-25 16:43:50,628 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-25 16:43:50,628 INFO SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-25 16:43:50,628 INFO sqlalchemy.engine.Engine [cached since 0.05004s ago] (7,)
2025-06-25 16:43:50,628 INFO [cached since 0.05004s ago] (7,)
2025-06-25 16:43:50,632 INFO sqlalchemy.engine.Engine SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 16:43:50,632 INFO SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 16:43:50,632 INFO sqlalchemy.engine.Engine [cached since 0.04716s ago] (6,)
2025-06-25 16:43:50,632 INFO [cached since 0.04716s ago] (6,)
2025-06-25 16:43:50,632 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-25 16:43:50,632 INFO SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-25 16:43:50,632 INFO sqlalchemy.engine.Engine [cached since 0.05368s ago] (6,)
2025-06-25 16:43:50,632 INFO [cached since 0.05368s ago] (6,)
2025-06-25 16:43:50,636 INFO sqlalchemy.engine.Engine SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 16:43:50,636 INFO SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 16:43:50,636 INFO sqlalchemy.engine.Engine [cached since 0.05117s ago] (17,)
2025-06-25 16:43:50,636 INFO [cached since 0.05117s ago] (17,)
2025-06-25 16:43:50,636 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-25 16:43:50,636 INFO SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-25 16:43:50,636 INFO sqlalchemy.engine.Engine [cached since 0.05786s ago] (5,)
2025-06-25 16:43:50,636 INFO [cached since 0.05786s ago] (5,)
2025-06-25 16:43:50,641 INFO sqlalchemy.engine.Engine SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 16:43:50,641 INFO SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 16:43:50,641 INFO sqlalchemy.engine.Engine [cached since 0.05516s ago] (17,)
2025-06-25 16:43:50,641 INFO [cached since 0.05516s ago] (17,)
2025-06-25 16:43:50,641 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-25 16:43:50,641 INFO SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-25 16:43:50,641 INFO sqlalchemy.engine.Engine [cached since 0.06177s ago] (4,)
2025-06-25 16:43:50,641 INFO [cached since 0.06177s ago] (4,)
2025-06-25 16:43:50,644 INFO sqlalchemy.engine.Engine SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 16:43:50,644 INFO SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 16:43:50,645 INFO sqlalchemy.engine.Engine [cached since 0.05896s ago] (1,)
2025-06-25 16:43:50,645 INFO [cached since 0.05896s ago] (1,)
2025-06-25 16:43:50,645 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-25 16:43:50,645 INFO SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-25 16:43:50,645 INFO sqlalchemy.engine.Engine [cached since 0.06567s ago] (3,)
2025-06-25 16:43:50,645 INFO [cached since 0.06567s ago] (3,)
2025-06-25 16:43:50,648 INFO sqlalchemy.engine.Engine SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 16:43:50,648 INFO SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 16:43:50,649 INFO sqlalchemy.engine.Engine [cached since 0.0627s ago] (4,)
2025-06-25 16:43:50,649 INFO [cached since 0.0627s ago] (4,)
2025-06-25 16:43:50,649 INFO sqlalchemy.engine.Engine SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 16:43:50,649 INFO SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 16:43:50,649 INFO sqlalchemy.engine.Engine [cached since 0.06455s ago] (6,)
2025-06-25 16:43:50,649 INFO [cached since 0.06455s ago] (6,)
2025-06-25 16:43:50,649 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-25 16:43:50,649 INFO SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-25 16:43:50,649 INFO sqlalchemy.engine.Engine [cached since 0.06151s ago] (6,)
2025-06-25 16:43:50,649 INFO [cached since 0.06151s ago] (6,)
2025-06-25 16:43:50,654 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-25 16:43:50,654 INFO SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-25 16:43:50,654 INFO sqlalchemy.engine.Engine [cached since 0.07299s ago] (2,)
2025-06-25 16:43:50,654 INFO [cached since 0.07299s ago] (2,)
2025-06-25 16:43:50,654 INFO sqlalchemy.engine.Engine SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 16:43:50,654 INFO SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 16:43:50,654 INFO sqlalchemy.engine.Engine [cached since 0.06985s ago] (12,)
2025-06-25 16:43:50,654 INFO [cached since 0.06985s ago] (12,)
2025-06-25 16:43:50,657 INFO sqlalchemy.engine.Engine SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 16:43:50,657 INFO SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 16:43:50,657 INFO sqlalchemy.engine.Engine [cached since 0.0719s ago] (8,)
2025-06-25 16:43:50,657 INFO [cached since 0.0719s ago] (8,)
2025-06-25 16:43:50,657 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-25 16:43:50,657 INFO SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-25 16:43:50,657 INFO sqlalchemy.engine.Engine [cached since 0.06895s ago] (4,)
2025-06-25 16:43:50,657 INFO [cached since 0.06895s ago] (4,)
2025-06-25 16:43:50,661 INFO sqlalchemy.engine.Engine SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone], [Employees].username AS [Employees_username], [Employees].password AS [Employees_password], [Employees].role AS [Employees_role] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
2025-06-25 16:43:50,661 INFO SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone], [Employees].username AS [Employees_username], [Employees].password AS [Employees_password], [Employees].role AS [Employees_role] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
2025-06-25 16:43:50,661 INFO sqlalchemy.engine.Engine [cached since 0.06659s ago] (3,)
2025-06-25 16:43:50,661 INFO [cached since 0.06659s ago] (3,)
2025-06-25 16:43:50,661 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-25 16:43:50,661 INFO SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-25 16:43:50,661 INFO sqlalchemy.engine.Engine [cached since 0.08224s ago] (1,)
2025-06-25 16:43:50,661 INFO [cached since 0.08224s ago] (1,)
2025-06-25 16:43:50,665 INFO sqlalchemy.engine.Engine SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 16:43:50,665 INFO SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 16:43:50,665 INFO sqlalchemy.engine.Engine [cached since 0.07928s ago] (1,)
2025-06-25 16:43:50,665 INFO [cached since 0.07928s ago] (1,)
2025-06-25 16:43:50,665 INFO sqlalchemy.engine.Engine SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 16:43:50,665 INFO SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 16:43:50,665 INFO sqlalchemy.engine.Engine [cached since 0.08128s ago] (3,)
2025-06-25 16:43:50,665 INFO [cached since 0.08128s ago] (3,)
2025-06-25 16:43:50,665 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-25 16:43:50,665 INFO SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-25 16:43:50,669 INFO sqlalchemy.engine.Engine [cached since 0.07846s ago] (1,)
2025-06-25 16:43:50,669 INFO [cached since 0.07846s ago] (1,)
INFO:     127.0.0.1:64246 - "GET /bills HTTP/1.1" 200 OK
2025-06-25 16:43:50,670 INFO sqlalchemy.engine.Engine ROLLBACK
2025-06-25 16:43:50,670 INFO ROLLBACK
INFO:     127.0.0.1:64265 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64265 - "GET /health HTTP/1.1" 200 OK
2025-06-25 16:43:56,363 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-25 16:43:56,363 INFO BEGIN (implicit)
2025-06-25 16:43:56,363 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]) AS anon_1
2025-06-25 16:43:56,363 INFO SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]) AS anon_1
2025-06-25 16:43:56,363 INFO sqlalchemy.engine.Engine [cached since 28.18s ago] ()
2025-06-25 16:43:56,363 INFO [cached since 28.18s ago] ()
2025-06-25 16:43:56,370 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills]) AS anon_1
2025-06-25 16:43:56,370 INFO SELECT count(*) AS count_1 
FROM (SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills]) AS anon_1
2025-06-25 16:43:56,373 INFO sqlalchemy.engine.Engine [cached since 28.17s ago] ()
2025-06-25 16:43:56,373 INFO [cached since 28.17s ago] ()
2025-06-25 16:43:56,374 INFO sqlalchemy.engine.Engine SELECT sum([Products].[Stock]) AS sum_1 
FROM [Products]
2025-06-25 16:43:56,374 INFO SELECT sum([Products].[Stock]) AS sum_1 
FROM [Products]
2025-06-25 16:43:56,374 INFO sqlalchemy.engine.Engine [cached since 28.17s ago] ()
2025-06-25 16:43:56,374 INFO [cached since 28.17s ago] ()
2025-06-25 16:43:56,374 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[Stock] < ?) AS anon_1
2025-06-25 16:43:56,374 INFO SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[Stock] < ?) AS anon_1
2025-06-25 16:43:56,374 INFO sqlalchemy.engine.Engine [cached since 28.17s ago] (10,)
2025-06-25 16:43:56,374 INFO [cached since 28.17s ago] (10,)
INFO:     127.0.0.1:64265 - "GET /stats HTTP/1.1" 200 OK
2025-06-25 16:43:56,374 INFO sqlalchemy.engine.Engine ROLLBACK
2025-06-25 16:43:56,374 INFO ROLLBACK
2025-06-25 16:43:56,374 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-25 16:43:56,374 INFO BEGIN (implicit)
2025-06-25 16:43:56,374 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]) AS anon_1
2025-06-25 16:43:56,374 INFO SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]) AS anon_1
2025-06-25 16:43:56,386 INFO sqlalchemy.engine.Engine [cached since 28.2s ago] ()
2025-06-25 16:43:56,386 INFO [cached since 28.2s ago] ()
2025-06-25 16:43:56,386 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills]) AS anon_1
2025-06-25 16:43:56,386 INFO SELECT count(*) AS count_1 
FROM (SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills]) AS anon_1
2025-06-25 16:43:56,386 INFO sqlalchemy.engine.Engine [cached since 28.19s ago] ()
2025-06-25 16:43:56,386 INFO [cached since 28.19s ago] ()
2025-06-25 16:43:56,386 INFO sqlalchemy.engine.Engine SELECT sum([Products].[Stock]) AS sum_1 
FROM [Products]
2025-06-25 16:43:56,386 INFO SELECT sum([Products].[Stock]) AS sum_1 
FROM [Products]
2025-06-25 16:43:56,386 INFO sqlalchemy.engine.Engine [cached since 28.18s ago] ()
2025-06-25 16:43:56,386 INFO [cached since 28.18s ago] ()
2025-06-25 16:43:56,390 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[Stock] < ?) AS anon_1
2025-06-25 16:43:56,390 INFO SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[Stock] < ?) AS anon_1
2025-06-25 16:43:56,390 INFO sqlalchemy.engine.Engine [cached since 28.18s ago] (10,)
2025-06-25 16:43:56,390 INFO [cached since 28.18s ago] (10,)
INFO:     127.0.0.1:64265 - "GET /stats HTTP/1.1" 200 OK
2025-06-25 16:43:56,390 INFO sqlalchemy.engine.Engine ROLLBACK
2025-06-25 16:43:56,390 INFO ROLLBACK
2025-06-25 16:43:56,394 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-25 16:43:56,394 INFO BEGIN (implicit)
2025-06-25 16:43:56,394 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 16:43:56,394 INFO SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 16:43:56,394 INFO sqlalchemy.engine.Engine [cached since 28.16s ago] (datetime.datetime(2025, 6, 25, 0, 0), '已结账')
2025-06-25 16:43:56,394 INFO [cached since 28.16s ago] (datetime.datetime(2025, 6, 25, 0, 0), '已结账')
2025-06-25 16:43:56,399 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 16:43:56,399 INFO SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 16:43:56,399 INFO sqlalchemy.engine.Engine [cached since 28.16s ago] (datetime.datetime(2025, 6, 23, 0, 0), '已结账')
2025-06-25 16:43:56,399 INFO [cached since 28.16s ago] (datetime.datetime(2025, 6, 23, 0, 0), '已结账')
2025-06-25 16:43:56,403 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
2025-06-25 16:43:56,403 INFO SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
2025-06-25 16:43:56,403 INFO sqlalchemy.engine.Engine [cached since 28.16s ago] (datetime.datetime(2025, 6, 16, 0, 0), datetime.datetime(2025, 6, 22, 23, 59, 59), '已结账')
2025-06-25 16:43:56,403 INFO [cached since 28.16s ago] (datetime.datetime(2025, 6, 16, 0, 0), datetime.datetime(2025, 6, 22, 23, 59, 59), '已结账')
2025-06-25 16:43:56,407 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 16:43:56,407 INFO SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 16:43:56,407 INFO sqlalchemy.engine.Engine [cached since 28.17s ago] (datetime.datetime(2025, 6, 1, 0, 0), '已结账')
2025-06-25 16:43:56,407 INFO [cached since 28.17s ago] (datetime.datetime(2025, 6, 1, 0, 0), '已结账')
INFO:     127.0.0.1:64265 - "GET /dashboard/sales HTTP/1.1" 200 OK
2025-06-25 16:43:56,407 INFO sqlalchemy.engine.Engine ROLLBACK
2025-06-25 16:43:56,407 INFO ROLLBACK
2025-06-25 16:43:56,407 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-25 16:43:56,407 INFO BEGIN (implicit)
2025-06-25 16:43:56,407 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 16:43:56,407 INFO SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 16:43:56,415 INFO sqlalchemy.engine.Engine [cached since 28.18s ago] (datetime.datetime(2025, 6, 25, 0, 0), '已结账')
2025-06-25 16:43:56,415 INFO [cached since 28.18s ago] (datetime.datetime(2025, 6, 25, 0, 0), '已结账')
2025-06-25 16:43:56,415 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 16:43:56,415 INFO SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 16:43:56,415 INFO sqlalchemy.engine.Engine [cached since 28.18s ago] (datetime.datetime(2025, 6, 23, 0, 0), '已结账')
2025-06-25 16:43:56,415 INFO [cached since 28.18s ago] (datetime.datetime(2025, 6, 23, 0, 0), '已结账')
2025-06-25 16:43:56,420 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
2025-06-25 16:43:56,420 INFO SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
2025-06-25 16:43:56,420 INFO sqlalchemy.engine.Engine [cached since 28.18s ago] (datetime.datetime(2025, 6, 16, 0, 0), datetime.datetime(2025, 6, 22, 23, 59, 59), '已结账')
2025-06-25 16:43:56,420 INFO [cached since 28.18s ago] (datetime.datetime(2025, 6, 16, 0, 0), datetime.datetime(2025, 6, 22, 23, 59, 59), '已结账')
2025-06-25 16:43:56,420 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 16:43:56,420 INFO SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 16:43:56,420 INFO sqlalchemy.engine.Engine [cached since 28.18s ago] (datetime.datetime(2025, 6, 1, 0, 0), '已结账')
2025-06-25 16:43:56,420 INFO [cached since 28.18s ago] (datetime.datetime(2025, 6, 1, 0, 0), '已结账')
INFO:     127.0.0.1:64265 - "GET /dashboard/sales HTTP/1.1" 200 OK
2025-06-25 16:43:56,424 INFO sqlalchemy.engine.Engine ROLLBACK
2025-06-25 16:43:56,424 INFO ROLLBACK
2025-06-25 16:43:56,424 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-25 16:43:56,424 INFO BEGIN (implicit)
2025-06-25 16:43:56,424 INFO sqlalchemy.engine.Engine SELECT TOP 5 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
2025-06-25 16:43:56,424 INFO SELECT TOP 5 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
2025-06-25 16:43:56,424 INFO sqlalchemy.engine.Engine [cached since 28.17s ago] ('已结账',)
2025-06-25 16:43:56,424 INFO [cached since 28.17s ago] ('已结账',)
INFO:     127.0.0.1:64265 - "GET /dashboard/top-products?limit=5 HTTP/1.1" 200 OK
2025-06-25 16:43:56,437 INFO sqlalchemy.engine.Engine ROLLBACK
2025-06-25 16:43:56,437 INFO ROLLBACK
2025-06-25 16:43:56,440 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-25 16:43:56,440 INFO BEGIN (implicit)
2025-06-25 16:43:56,440 INFO sqlalchemy.engine.Engine SELECT TOP 5 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
2025-06-25 16:43:56,440 INFO SELECT TOP 5 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
2025-06-25 16:43:56,440 INFO sqlalchemy.engine.Engine [cached since 28.18s ago] ('已结账',)
2025-06-25 16:43:56,440 INFO [cached since 28.18s ago] ('已结账',)
INFO:     127.0.0.1:64265 - "GET /dashboard/top-products?limit=5 HTTP/1.1" 200 OK
2025-06-25 16:43:56,445 INFO sqlalchemy.engine.Engine ROLLBACK
2025-06-25 16:43:56,445 INFO ROLLBACK
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [68820]
