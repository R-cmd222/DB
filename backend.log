INFO:     Started server process [21964]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:9527 (Press CTRL+C to quit)
INFO:     127.0.0.1:53859 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53860 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53859 - "OPTIONS /guests HTTP/1.1" 200 OK
INFO:     127.0.0.1:53860 - "OPTIONS /guests HTTP/1.1" 200 OK
INFO:     127.0.0.1:53859 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53859 - "OPTIONS /stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53862 - "GET /health HTTP/1.1" 200 OK
2025-06-25 11:38:10,955 INFO sqlalchemy.engine.Engine SELECT CAST(SERVERPROPERTY('ProductVersion') AS VARCHAR)
INFO:sqlalchemy.engine.Engine:SELECT CAST(SERVERPROPERTY('ProductVersion') AS VARCHAR)
2025-06-25 11:38:10,955 INFO sqlalchemy.engine.Engine [raw sql] ()
INFO:sqlalchemy.engine.Engine:[raw sql] ()
2025-06-25 11:38:10,957 INFO sqlalchemy.engine.Engine SELECT schema_name()
INFO:sqlalchemy.engine.Engine:SELECT schema_name()
2025-06-25 11:38:10,957 INFO sqlalchemy.engine.Engine [generated in 0.00040s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00040s] ()
2025-06-25 11:38:10,972 INFO sqlalchemy.engine.Engine SELECT CAST('test max support' AS NVARCHAR(max))
INFO:sqlalchemy.engine.Engine:SELECT CAST('test max support' AS NVARCHAR(max))
2025-06-25 11:38:10,973 INFO sqlalchemy.engine.Engine [generated in 0.00058s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00058s] ()
2025-06-25 11:38:10,974 INFO sqlalchemy.engine.Engine SELECT 1 FROM fn_listextendedproperty(default, default, default, default, default, default, default)
INFO:sqlalchemy.engine.Engine:SELECT 1 FROM fn_listextendedproperty(default, default, default, default, default, default, default)
2025-06-25 11:38:10,974 INFO sqlalchemy.engine.Engine [generated in 0.00057s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00057s] ()
2025-06-25 11:38:11,040 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:38:11,040 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:38:11,048 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]) AS anon_1
2025-06-25 11:38:11,049 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests]
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests]
2025-06-25 11:38:11,049 INFO sqlalchemy.engine.Engine [generated in 0.00214s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00214s] ()
2025-06-25 11:38:11,050 INFO sqlalchemy.engine.Engine [generated in 0.00071s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00071s] ()
2025-06-25 11:38:11,057 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills]) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills]) AS anon_1
2025-06-25 11:38:11,062 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:38:11,062 INFO sqlalchemy.engine.Engine [generated in 0.00485s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00485s] ()
2025-06-25 11:38:11,062 INFO sqlalchemy.engine.Engine [generated in 0.00076s] (1,)
INFO:sqlalchemy.engine.Engine:[generated in 0.00076s] (1,)
2025-06-25 11:38:11,069 INFO sqlalchemy.engine.Engine SELECT sum([Products].[Stock]) AS sum_1 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT sum([Products].[Stock]) AS sum_1 
FROM [Products]
2025-06-25 11:38:11,070 INFO sqlalchemy.engine.Engine [generated in 0.00128s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00128s] ()
2025-06-25 11:38:11,071 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:38:11,071 INFO sqlalchemy.engine.Engine [cached since 0.009382s ago] (2,)
INFO:sqlalchemy.engine.Engine:[cached since 0.009382s ago] (2,)
2025-06-25 11:38:11,073 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:38:11,077 INFO sqlalchemy.engine.Engine [cached since 0.01584s ago] (3,)
INFO:sqlalchemy.engine.Engine:[cached since 0.01584s ago] (3,)
2025-06-25 11:38:11,078 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[Stock] < ?) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[Stock] < ?) AS anon_1
2025-06-25 11:38:11,078 INFO sqlalchemy.engine.Engine [generated in 0.00101s] (10,)
INFO:sqlalchemy.engine.Engine:[generated in 0.00101s] (10,)
2025-06-25 11:38:11,079 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:38:11,079 INFO sqlalchemy.engine.Engine [cached since 0.01807s ago] (4,)
INFO:sqlalchemy.engine.Engine:[cached since 0.01807s ago] (4,)
2025-06-25 11:38:11,081 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:38:11,082 INFO sqlalchemy.engine.Engine [cached since 0.02015s ago] (5,)
INFO:sqlalchemy.engine.Engine:[cached since 0.02015s ago] (5,)
INFO:     127.0.0.1:53859 - "GET /stats HTTP/1.1" 200 OK
2025-06-25 11:38:11,084 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:38:11,085 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-25 11:38:11,085 INFO sqlalchemy.engine.Engine [cached since 0.02358s ago] (6,)
INFO:sqlalchemy.engine.Engine:[cached since 0.02358s ago] (6,)
2025-06-25 11:38:11,088 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:38:11,089 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]) AS anon_1
2025-06-25 11:38:11,090 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:38:11,090 INFO sqlalchemy.engine.Engine [cached since 0.04327s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 0.04327s ago] ()
2025-06-25 11:38:11,091 INFO sqlalchemy.engine.Engine [cached since 0.02951s ago] (8,)
INFO:sqlalchemy.engine.Engine:[cached since 0.02951s ago] (8,)
2025-06-25 11:38:11,092 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills]) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills]) AS anon_1
INFO:     127.0.0.1:53859 - "OPTIONS /dashboard/sales HTTP/1.1" 200 OK
2025-06-25 11:38:11,096 INFO sqlalchemy.engine.Engine [cached since 0.0383s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 0.0383s ago] ()
2025-06-25 11:38:11,097 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:38:11,098 INFO sqlalchemy.engine.Engine [cached since 0.0361s ago] (13,)
INFO:sqlalchemy.engine.Engine:[cached since 0.0361s ago] (13,)
2025-06-25 11:38:11,099 INFO sqlalchemy.engine.Engine SELECT sum([Products].[Stock]) AS sum_1 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT sum([Products].[Stock]) AS sum_1 
FROM [Products]
2025-06-25 11:38:11,099 INFO sqlalchemy.engine.Engine [cached since 0.03105s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 0.03105s ago] ()
2025-06-25 11:38:11,102 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:38:11,103 INFO sqlalchemy.engine.Engine [cached since 0.04162s ago] (14,)
INFO:sqlalchemy.engine.Engine:[cached since 0.04162s ago] (14,)
2025-06-25 11:38:11,104 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[Stock] < ?) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[Stock] < ?) AS anon_1
2025-06-25 11:38:11,105 INFO sqlalchemy.engine.Engine [cached since 0.02807s ago] (10,)
INFO:sqlalchemy.engine.Engine:[cached since 0.02807s ago] (10,)
INFO:     127.0.0.1:53860 - "GET /guests HTTP/1.1" 200 OK
INFO:     127.0.0.1:53862 - "GET /stats HTTP/1.1" 200 OK
2025-06-25 11:38:11,109 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-25 11:38:11,110 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-25 11:38:11,111 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:38:11,114 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 11:38:11,116 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:38:11,116 INFO sqlalchemy.engine.Engine [generated in 0.00252s] (datetime.datetime(2025, 6, 25, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[generated in 0.00252s] (datetime.datetime(2025, 6, 25, 0, 0), '已结账')
2025-06-25 11:38:11,116 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests]
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests]
2025-06-25 11:38:11,116 INFO sqlalchemy.engine.Engine [cached since 0.06792s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 0.06792s ago] ()
2025-06-25 11:38:11,122 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:38:11,123 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 11:38:11,123 INFO sqlalchemy.engine.Engine [cached since 0.06127s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 0.06127s ago] (1,)
2025-06-25 11:38:11,123 INFO sqlalchemy.engine.Engine [cached since 0.009668s ago] (datetime.datetime(2025, 6, 23, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 0.009668s ago] (datetime.datetime(2025, 6, 23, 0, 0), '已结账')
2025-06-25 11:38:11,125 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:38:11,127 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
2025-06-25 11:38:11,127 INFO sqlalchemy.engine.Engine [cached since 0.06593s ago] (2,)
INFO:sqlalchemy.engine.Engine:[cached since 0.06593s ago] (2,)
2025-06-25 11:38:11,128 INFO sqlalchemy.engine.Engine [generated in 0.00075s] (datetime.datetime(2025, 6, 16, 0, 0), datetime.datetime(2025, 6, 22, 23, 59, 59), '已结账')
INFO:sqlalchemy.engine.Engine:[generated in 0.00075s] (datetime.datetime(2025, 6, 16, 0, 0), datetime.datetime(2025, 6, 22, 23, 59, 59), '已结账')
2025-06-25 11:38:11,135 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:38:11,137 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:38:11,139 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
2025-06-25 11:38:11,139 INFO sqlalchemy.engine.Engine [cached since 0.07838s ago] (3,)
INFO:sqlalchemy.engine.Engine:[cached since 0.07838s ago] (3,)
2025-06-25 11:38:11,140 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 11:38:11,140 INFO sqlalchemy.engine.Engine [generated in 0.00190s] (datetime.datetime(2025, 5, 26, 0, 0), datetime.datetime(2025, 6, 25, 23, 59, 59), '已结账')
INFO:sqlalchemy.engine.Engine:[generated in 0.00190s] (datetime.datetime(2025, 5, 26, 0, 0), datetime.datetime(2025, 6, 25, 23, 59, 59), '已结账')
2025-06-25 11:38:11,141 INFO sqlalchemy.engine.Engine [cached since 0.02764s ago] (datetime.datetime(2025, 6, 1, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 0.02764s ago] (datetime.datetime(2025, 6, 1, 0, 0), '已结账')
2025-06-25 11:38:11,142 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:38:11,143 INFO sqlalchemy.engine.Engine [cached since 0.08154s ago] (4,)
INFO:sqlalchemy.engine.Engine:[cached since 0.08154s ago] (4,)
INFO:     127.0.0.1:53859 - "GET /dashboard/sales HTTP/1.1" 200 OK
2025-06-25 11:38:11,145 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:38:11,146 INFO sqlalchemy.engine.Engine [cached since 0.08499s ago] (5,)
INFO:sqlalchemy.engine.Engine:[cached since 0.08499s ago] (5,)
2025-06-25 11:38:11,148 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-25 11:38:11,154 INFO sqlalchemy.engine.Engine SELECT TOP 10 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales, sum([BillItems].[Price] * [BillItems].[Quantity]) AS revenue 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
INFO:sqlalchemy.engine.Engine:SELECT TOP 10 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales, sum([BillItems].[Price] * [BillItems].[Quantity]) AS revenue 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
2025-06-25 11:38:11,156 INFO sqlalchemy.engine.Engine [generated in 0.00218s] (datetime.datetime(2025, 5, 26, 0, 0), datetime.datetime(2025, 6, 25, 23, 59, 59), '已结账')
INFO:sqlalchemy.engine.Engine:[generated in 0.00218s] (datetime.datetime(2025, 5, 26, 0, 0), datetime.datetime(2025, 6, 25, 23, 59, 59), '已结账')
2025-06-25 11:38:11,157 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:38:11,159 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:38:11,159 INFO sqlalchemy.engine.Engine [cached since 0.0973s ago] (6,)
INFO:sqlalchemy.engine.Engine:[cached since 0.0973s ago] (6,)
2025-06-25 11:38:11,160 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 11:38:11,160 INFO sqlalchemy.engine.Engine [cached since 0.04672s ago] (datetime.datetime(2025, 6, 25, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 0.04672s ago] (datetime.datetime(2025, 6, 25, 0, 0), '已结账')
INFO:     127.0.0.1:53859 - "OPTIONS /dashboard/top-products?limit=5 HTTP/1.1" 200 OK
2025-06-25 11:38:11,164 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:38:11,164 INFO sqlalchemy.engine.Engine [cached since 0.1028s ago] (8,)
INFO:sqlalchemy.engine.Engine:[cached since 0.1028s ago] (8,)
2025-06-25 11:38:11,165 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 11:38:11,165 INFO sqlalchemy.engine.Engine [cached since 0.05168s ago] (datetime.datetime(2025, 6, 23, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 0.05168s ago] (datetime.datetime(2025, 6, 23, 0, 0), '已结账')
2025-06-25 11:38:11,166 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:38:11,168 INFO sqlalchemy.engine.Engine [cached since 0.1061s ago] (13,)
INFO:sqlalchemy.engine.Engine:[cached since 0.1061s ago] (13,)
2025-06-25 11:38:11,171 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
INFO:     127.0.0.1:53862 - "GET /report/sales?start=2025-05-26&end=2025-06-25&unit=day HTTP/1.1" 200 OK
2025-06-25 11:38:11,174 INFO sqlalchemy.engine.Engine [cached since 0.0466s ago] (datetime.datetime(2025, 6, 16, 0, 0), datetime.datetime(2025, 6, 22, 23, 59, 59), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 0.0466s ago] (datetime.datetime(2025, 6, 16, 0, 0), datetime.datetime(2025, 6, 22, 23, 59, 59), '已结账')
2025-06-25 11:38:11,175 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-25 11:38:11,176 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:38:11,176 INFO sqlalchemy.engine.Engine [cached since 0.1149s ago] (14,)
INFO:sqlalchemy.engine.Engine:[cached since 0.1149s ago] (14,)
2025-06-25 11:38:11,178 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:38:11,180 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 11:38:11,181 INFO sqlalchemy.engine.Engine SELECT TOP 5 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
INFO:sqlalchemy.engine.Engine:SELECT TOP 5 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
2025-06-25 11:38:11,182 INFO sqlalchemy.engine.Engine [cached since 0.06826s ago] (datetime.datetime(2025, 6, 1, 0, 0), '已结账')
2025-06-25 11:38:11,182 INFO sqlalchemy.engine.Engine [generated in 0.00304s] ('已结账',)
INFO:sqlalchemy.engine.Engine:[cached since 0.06826s ago] (datetime.datetime(2025, 6, 1, 0, 0), '已结账')
INFO:     127.0.0.1:53878 - "GET /guests HTTP/1.1" 200 OK
INFO:sqlalchemy.engine.Engine:[generated in 0.00304s] ('已结账',)
2025-06-25 11:38:11,185 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:53860 - "GET /dashboard/sales HTTP/1.1" 200 OK
2025-06-25 11:38:11,188 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:53859 - "GET /dashboard/top-products?limit=5 HTTP/1.1" 200 OK
2025-06-25 11:38:11,192 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-25 11:38:11,200 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:38:11,201 INFO sqlalchemy.engine.Engine SELECT TOP 5 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
INFO:sqlalchemy.engine.Engine:SELECT TOP 5 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
2025-06-25 11:38:11,201 INFO sqlalchemy.engine.Engine [cached since 0.02122s ago] ('已结账',)
INFO:sqlalchemy.engine.Engine:[cached since 0.02122s ago] ('已结账',)
INFO:     127.0.0.1:53859 - "GET /dashboard/top-products?limit=5 HTTP/1.1" 200 OK
2025-06-25 11:38:11,204 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:53892 - "OPTIONS /login HTTP/1.1" 200 OK
2025-06-25 11:38:33,577 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:38:33,581 INFO sqlalchemy.engine.Engine SELECT TOP 1 [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone], [Employees].username AS [Employees_username], [Employees].password AS [Employees_password], [Employees].role AS [Employees_role] 
FROM [Employees] 
WHERE [Employees].username = ?
INFO:sqlalchemy.engine.Engine:SELECT TOP 1 [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone], [Employees].username AS [Employees_username], [Employees].password AS [Employees_password], [Employees].role AS [Employees_role] 
FROM [Employees] 
WHERE [Employees].username = ?
2025-06-25 11:38:33,581 INFO sqlalchemy.engine.Engine [generated in 0.00056s] ('admin1',)
INFO:sqlalchemy.engine.Engine:[generated in 0.00056s] ('admin1',)
INFO:     127.0.0.1:53892 - "POST /login HTTP/1.1" 200 OK
2025-06-25 11:38:33,586 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:53892 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53892 - "GET /health HTTP/1.1" 200 OK
2025-06-25 11:38:33,719 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:38:33,720 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]) AS anon_1
2025-06-25 11:38:33,720 INFO sqlalchemy.engine.Engine [cached since 22.67s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 22.67s ago] ()
2025-06-25 11:38:33,723 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills]) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills]) AS anon_1
2025-06-25 11:38:33,724 INFO sqlalchemy.engine.Engine [cached since 22.67s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 22.67s ago] ()
2025-06-25 11:38:33,727 INFO sqlalchemy.engine.Engine SELECT sum([Products].[Stock]) AS sum_1 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT sum([Products].[Stock]) AS sum_1 
FROM [Products]
2025-06-25 11:38:33,727 INFO sqlalchemy.engine.Engine [cached since 22.66s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 22.66s ago] ()
2025-06-25 11:38:33,730 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[Stock] < ?) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[Stock] < ?) AS anon_1
2025-06-25 11:38:33,730 INFO sqlalchemy.engine.Engine [cached since 22.65s ago] (10,)
INFO:sqlalchemy.engine.Engine:[cached since 22.65s ago] (10,)
INFO:     127.0.0.1:53892 - "GET /stats HTTP/1.1" 200 OK
2025-06-25 11:38:33,732 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-25 11:38:33,736 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:38:33,736 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]) AS anon_1
2025-06-25 11:38:33,739 INFO sqlalchemy.engine.Engine [cached since 22.69s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 22.69s ago] ()
2025-06-25 11:38:33,740 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills]) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills]) AS anon_1
2025-06-25 11:38:33,740 INFO sqlalchemy.engine.Engine [cached since 22.68s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 22.68s ago] ()
2025-06-25 11:38:33,740 INFO sqlalchemy.engine.Engine SELECT sum([Products].[Stock]) AS sum_1 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT sum([Products].[Stock]) AS sum_1 
FROM [Products]
2025-06-25 11:38:33,740 INFO sqlalchemy.engine.Engine [cached since 22.67s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 22.67s ago] ()
2025-06-25 11:38:33,744 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[Stock] < ?) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[Stock] < ?) AS anon_1
2025-06-25 11:38:33,744 INFO sqlalchemy.engine.Engine [cached since 22.67s ago] (10,)
INFO:sqlalchemy.engine.Engine:[cached since 22.67s ago] (10,)
INFO:     127.0.0.1:53892 - "GET /stats HTTP/1.1" 200 OK
2025-06-25 11:38:33,746 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-25 11:38:33,748 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:38:33,748 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 11:38:33,748 INFO sqlalchemy.engine.Engine [cached since 22.64s ago] (datetime.datetime(2025, 6, 25, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 22.64s ago] (datetime.datetime(2025, 6, 25, 0, 0), '已结账')
2025-06-25 11:38:33,752 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 11:38:33,752 INFO sqlalchemy.engine.Engine [cached since 22.64s ago] (datetime.datetime(2025, 6, 23, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 22.64s ago] (datetime.datetime(2025, 6, 23, 0, 0), '已结账')
2025-06-25 11:38:33,756 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
2025-06-25 11:38:33,756 INFO sqlalchemy.engine.Engine [cached since 22.63s ago] (datetime.datetime(2025, 6, 16, 0, 0), datetime.datetime(2025, 6, 22, 23, 59, 59), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 22.63s ago] (datetime.datetime(2025, 6, 16, 0, 0), datetime.datetime(2025, 6, 22, 23, 59, 59), '已结账')
2025-06-25 11:38:33,756 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 11:38:33,756 INFO sqlalchemy.engine.Engine [cached since 22.65s ago] (datetime.datetime(2025, 6, 1, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 22.65s ago] (datetime.datetime(2025, 6, 1, 0, 0), '已结账')
INFO:     127.0.0.1:53892 - "GET /dashboard/sales HTTP/1.1" 200 OK
2025-06-25 11:38:33,761 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-25 11:38:33,764 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:38:33,765 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 11:38:33,765 INFO sqlalchemy.engine.Engine [cached since 22.65s ago] (datetime.datetime(2025, 6, 25, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 22.65s ago] (datetime.datetime(2025, 6, 25, 0, 0), '已结账')
2025-06-25 11:38:33,765 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 11:38:33,765 INFO sqlalchemy.engine.Engine [cached since 22.65s ago] (datetime.datetime(2025, 6, 23, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 22.65s ago] (datetime.datetime(2025, 6, 23, 0, 0), '已结账')
2025-06-25 11:38:33,769 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
2025-06-25 11:38:33,769 INFO sqlalchemy.engine.Engine [cached since 22.64s ago] (datetime.datetime(2025, 6, 16, 0, 0), datetime.datetime(2025, 6, 22, 23, 59, 59), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 22.64s ago] (datetime.datetime(2025, 6, 16, 0, 0), datetime.datetime(2025, 6, 22, 23, 59, 59), '已结账')
2025-06-25 11:38:33,769 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 11:38:33,769 INFO sqlalchemy.engine.Engine [cached since 22.66s ago] (datetime.datetime(2025, 6, 1, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 22.66s ago] (datetime.datetime(2025, 6, 1, 0, 0), '已结账')
INFO:     127.0.0.1:53892 - "GET /dashboard/sales HTTP/1.1" 200 OK
2025-06-25 11:38:33,773 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-25 11:38:33,773 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:38:33,773 INFO sqlalchemy.engine.Engine SELECT TOP 5 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
INFO:sqlalchemy.engine.Engine:SELECT TOP 5 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
2025-06-25 11:38:33,777 INFO sqlalchemy.engine.Engine [cached since 22.6s ago] ('已结账',)
INFO:sqlalchemy.engine.Engine:[cached since 22.6s ago] ('已结账',)
INFO:     127.0.0.1:53892 - "GET /dashboard/top-products?limit=5 HTTP/1.1" 200 OK
2025-06-25 11:38:33,781 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-25 11:38:33,786 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:38:33,786 INFO sqlalchemy.engine.Engine SELECT TOP 5 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
INFO:sqlalchemy.engine.Engine:SELECT TOP 5 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
2025-06-25 11:38:33,786 INFO sqlalchemy.engine.Engine [cached since 22.61s ago] ('已结账',)
INFO:sqlalchemy.engine.Engine:[cached since 22.61s ago] ('已结账',)
INFO:     127.0.0.1:53892 - "GET /dashboard/top-products?limit=5 HTTP/1.1" 200 OK
2025-06-25 11:38:33,789 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:53892 - "OPTIONS /categories HTTP/1.1" 200 OK
2025-06-25 11:38:35,258 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:38:35,259 INFO sqlalchemy.engine.Engine SELECT DISTINCT [Products].[Category] AS [Products_Category] 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT DISTINCT [Products].[Category] AS [Products_Category] 
FROM [Products]
2025-06-25 11:38:35,259 INFO sqlalchemy.engine.Engine [generated in 0.00043s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00043s] ()
INFO:     127.0.0.1:53892 - "GET /categories HTTP/1.1" 200 OK
2025-06-25 11:38:35,262 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:53892 - "OPTIONS /products HTTP/1.1" 200 OK
2025-06-25 11:38:35,282 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:38:35,286 INFO sqlalchemy.engine.Engine SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]
2025-06-25 11:38:35,287 INFO sqlalchemy.engine.Engine [generated in 0.00045s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00045s] ()
INFO:     127.0.0.1:53892 - "GET /products HTTP/1.1" 200 OK
2025-06-25 11:38:35,290 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:53892 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53996 - "GET /health HTTP/1.1" 200 OK
2025-06-25 11:38:36,753 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:38:36,753 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]) AS anon_1
2025-06-25 11:38:36,753 INFO sqlalchemy.engine.Engine [cached since 25.71s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 25.71s ago] ()
2025-06-25 11:38:36,753 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills]) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills]) AS anon_1
2025-06-25 11:38:36,753 INFO sqlalchemy.engine.Engine [cached since 25.7s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 25.7s ago] ()
2025-06-25 11:38:36,756 INFO sqlalchemy.engine.Engine SELECT sum([Products].[Stock]) AS sum_1 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT sum([Products].[Stock]) AS sum_1 
FROM [Products]
2025-06-25 11:38:36,756 INFO sqlalchemy.engine.Engine [cached since 25.69s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 25.69s ago] ()
2025-06-25 11:38:36,756 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[Stock] < ?) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[Stock] < ?) AS anon_1
2025-06-25 11:38:36,756 INFO sqlalchemy.engine.Engine [cached since 25.68s ago] (10,)
INFO:sqlalchemy.engine.Engine:[cached since 25.68s ago] (10,)
INFO:     127.0.0.1:53996 - "GET /stats HTTP/1.1" 200 OK
2025-06-25 11:38:36,761 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-25 11:38:36,761 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:38:36,761 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]) AS anon_1
2025-06-25 11:38:36,761 INFO sqlalchemy.engine.Engine [cached since 25.72s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 25.72s ago] ()
2025-06-25 11:38:36,765 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills]) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills]) AS anon_1
2025-06-25 11:38:36,765 INFO sqlalchemy.engine.Engine [cached since 25.71s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 25.71s ago] ()
2025-06-25 11:38:36,765 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:38:36,769 INFO sqlalchemy.engine.Engine SELECT sum([Products].[Stock]) AS sum_1 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT sum([Products].[Stock]) AS sum_1 
FROM [Products]
2025-06-25 11:38:36,769 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 11:38:36,769 INFO sqlalchemy.engine.Engine [cached since 25.7s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 25.7s ago] ()
2025-06-25 11:38:36,769 INFO sqlalchemy.engine.Engine [cached since 25.66s ago] (datetime.datetime(2025, 6, 25, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 25.66s ago] (datetime.datetime(2025, 6, 25, 0, 0), '已结账')
2025-06-25 11:38:36,769 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[Stock] < ?) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[Stock] < ?) AS anon_1
2025-06-25 11:38:36,769 INFO sqlalchemy.engine.Engine [cached since 25.69s ago] (10,)
INFO:sqlalchemy.engine.Engine:[cached since 25.69s ago] (10,)
2025-06-25 11:38:36,773 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 11:38:36,773 INFO sqlalchemy.engine.Engine [cached since 25.66s ago] (datetime.datetime(2025, 6, 23, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 25.66s ago] (datetime.datetime(2025, 6, 23, 0, 0), '已结账')
2025-06-25 11:38:36,773 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
INFO:     127.0.0.1:53892 - "GET /stats HTTP/1.1" 200 OK
2025-06-25 11:38:36,773 INFO sqlalchemy.engine.Engine [cached since 25.65s ago] (datetime.datetime(2025, 6, 16, 0, 0), datetime.datetime(2025, 6, 22, 23, 59, 59), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 25.65s ago] (datetime.datetime(2025, 6, 16, 0, 0), datetime.datetime(2025, 6, 22, 23, 59, 59), '已结账')
2025-06-25 11:38:36,773 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-25 11:38:36,777 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 11:38:36,777 INFO sqlalchemy.engine.Engine [cached since 25.66s ago] (datetime.datetime(2025, 6, 1, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 25.66s ago] (datetime.datetime(2025, 6, 1, 0, 0), '已结账')
INFO:     127.0.0.1:53996 - "GET /dashboard/sales HTTP/1.1" 200 OK
2025-06-25 11:38:36,777 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-25 11:38:36,782 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:38:36,782 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 11:38:36,782 INFO sqlalchemy.engine.Engine [cached since 25.67s ago] (datetime.datetime(2025, 6, 25, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 25.67s ago] (datetime.datetime(2025, 6, 25, 0, 0), '已结账')
2025-06-25 11:38:36,785 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 11:38:36,785 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:38:36,785 INFO sqlalchemy.engine.Engine [cached since 25.67s ago] (datetime.datetime(2025, 6, 23, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 25.67s ago] (datetime.datetime(2025, 6, 23, 0, 0), '已结账')
2025-06-25 11:38:36,785 INFO sqlalchemy.engine.Engine SELECT TOP 5 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
INFO:sqlalchemy.engine.Engine:SELECT TOP 5 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
2025-06-25 11:38:36,785 INFO sqlalchemy.engine.Engine [cached since 25.61s ago] ('已结账',)
INFO:sqlalchemy.engine.Engine:[cached since 25.61s ago] ('已结账',)
2025-06-25 11:38:36,790 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
2025-06-25 11:38:36,790 INFO sqlalchemy.engine.Engine [cached since 25.66s ago] (datetime.datetime(2025, 6, 16, 0, 0), datetime.datetime(2025, 6, 22, 23, 59, 59), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 25.66s ago] (datetime.datetime(2025, 6, 16, 0, 0), datetime.datetime(2025, 6, 22, 23, 59, 59), '已结账')
2025-06-25 11:38:36,790 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:     127.0.0.1:53996 - "GET /dashboard/top-products?limit=5 HTTP/1.1" 200 OK
2025-06-25 11:38:36,790 INFO sqlalchemy.engine.Engine [cached since 25.68s ago] (datetime.datetime(2025, 6, 1, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 25.68s ago] (datetime.datetime(2025, 6, 1, 0, 0), '已结账')
2025-06-25 11:38:36,793 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:53892 - "GET /dashboard/sales HTTP/1.1" 200 OK
2025-06-25 11:38:36,794 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-25 11:38:36,804 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:38:36,804 INFO sqlalchemy.engine.Engine SELECT TOP 5 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
INFO:sqlalchemy.engine.Engine:SELECT TOP 5 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
2025-06-25 11:38:36,804 INFO sqlalchemy.engine.Engine [cached since 25.62s ago] ('已结账',)
INFO:sqlalchemy.engine.Engine:[cached since 25.62s ago] ('已结账',)
INFO:     127.0.0.1:53892 - "GET /dashboard/top-products?limit=5 HTTP/1.1" 200 OK
2025-06-25 11:38:36,806 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-25 11:38:37,709 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:38:37,710 INFO sqlalchemy.engine.Engine SELECT DISTINCT [Products].[Category] AS [Products_Category] 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT DISTINCT [Products].[Category] AS [Products_Category] 
FROM [Products]
2025-06-25 11:38:37,710 INFO sqlalchemy.engine.Engine [cached since 2.451s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2.451s ago] ()
INFO:     127.0.0.1:53892 - "GET /categories HTTP/1.1" 200 OK
2025-06-25 11:38:37,712 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-25 11:38:37,723 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:38:37,723 INFO sqlalchemy.engine.Engine SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]
2025-06-25 11:38:37,723 INFO sqlalchemy.engine.Engine [cached since 2.439s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2.439s ago] ()
INFO:     127.0.0.1:53892 - "GET /products HTTP/1.1" 200 OK
2025-06-25 11:38:37,727 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-25 11:38:38,204 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:38:38,204 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests]
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests]
2025-06-25 11:38:38,205 INFO sqlalchemy.engine.Engine [cached since 27.16s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 27.16s ago] ()
2025-06-25 11:38:38,208 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:38:38,208 INFO sqlalchemy.engine.Engine [cached since 27.15s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 27.15s ago] (1,)
2025-06-25 11:38:38,211 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:38:38,211 INFO sqlalchemy.engine.Engine [cached since 27.15s ago] (2,)
INFO:sqlalchemy.engine.Engine:[cached since 27.15s ago] (2,)
2025-06-25 11:38:38,212 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:38:38,213 INFO sqlalchemy.engine.Engine [cached since 27.15s ago] (3,)
INFO:sqlalchemy.engine.Engine:[cached since 27.15s ago] (3,)
2025-06-25 11:38:38,214 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:38:38,214 INFO sqlalchemy.engine.Engine [cached since 27.15s ago] (4,)
INFO:sqlalchemy.engine.Engine:[cached since 27.15s ago] (4,)
2025-06-25 11:38:38,215 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:38:38,215 INFO sqlalchemy.engine.Engine [cached since 27.15s ago] (5,)
INFO:sqlalchemy.engine.Engine:[cached since 27.15s ago] (5,)
2025-06-25 11:38:38,215 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:38:38,215 INFO sqlalchemy.engine.Engine [cached since 27.16s ago] (6,)
INFO:sqlalchemy.engine.Engine:[cached since 27.16s ago] (6,)
2025-06-25 11:38:38,219 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:38:38,220 INFO sqlalchemy.engine.Engine [cached since 27.16s ago] (8,)
INFO:sqlalchemy.engine.Engine:[cached since 27.16s ago] (8,)
2025-06-25 11:38:38,220 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:38:38,220 INFO sqlalchemy.engine.Engine [cached since 27.16s ago] (13,)
INFO:sqlalchemy.engine.Engine:[cached since 27.16s ago] (13,)
2025-06-25 11:38:38,223 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:38:38,223 INFO sqlalchemy.engine.Engine [cached since 27.16s ago] (14,)
INFO:sqlalchemy.engine.Engine:[cached since 27.16s ago] (14,)
INFO:     127.0.0.1:53892 - "GET /guests HTTP/1.1" 200 OK
2025-06-25 11:38:38,223 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-25 11:38:38,687 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:38:38,688 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
2025-06-25 11:38:38,688 INFO sqlalchemy.engine.Engine [cached since 27.55s ago] (datetime.datetime(2025, 5, 26, 0, 0), datetime.datetime(2025, 6, 25, 23, 59, 59), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 27.55s ago] (datetime.datetime(2025, 5, 26, 0, 0), datetime.datetime(2025, 6, 25, 23, 59, 59), '已结账')
2025-06-25 11:38:38,692 INFO sqlalchemy.engine.Engine SELECT TOP 10 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales, sum([BillItems].[Price] * [BillItems].[Quantity]) AS revenue 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
INFO:sqlalchemy.engine.Engine:SELECT TOP 10 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales, sum([BillItems].[Price] * [BillItems].[Quantity]) AS revenue 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
2025-06-25 11:38:38,692 INFO sqlalchemy.engine.Engine [cached since 27.54s ago] (datetime.datetime(2025, 5, 26, 0, 0), datetime.datetime(2025, 6, 25, 23, 59, 59), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 27.54s ago] (datetime.datetime(2025, 5, 26, 0, 0), datetime.datetime(2025, 6, 25, 23, 59, 59), '已结账')
INFO:     127.0.0.1:53892 - "GET /report/sales?start=2025-05-26&end=2025-06-25&unit=day HTTP/1.1" 200 OK
2025-06-25 11:38:38,701 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:53997 - "OPTIONS /report/inventory HTTP/1.1" 200 OK
2025-06-25 11:38:44,302 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:38:44,302 INFO sqlalchemy.engine.Engine SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]
2025-06-25 11:38:44,303 INFO sqlalchemy.engine.Engine [cached since 9.017s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 9.017s ago] ()
INFO:     127.0.0.1:53997 - "GET /report/inventory HTTP/1.1" 200 OK
2025-06-25 11:38:44,306 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:53998 - "OPTIONS /report/customer?start=2025-05-26&end=2025-06-25 HTTP/1.1" 200 OK
2025-06-25 11:38:52,615 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:38:52,616 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests]
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests]
2025-06-25 11:38:52,616 INFO sqlalchemy.engine.Engine [cached since 41.57s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 41.57s ago] ()
2025-06-25 11:38:52,619 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests] 
WHERE [Guests].[Level] = ?) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests] 
WHERE [Guests].[Level] = ?) AS anon_1
2025-06-25 11:38:52,619 INFO sqlalchemy.engine.Engine [generated in 0.00049s] ('vip',)
INFO:sqlalchemy.engine.Engine:[generated in 0.00049s] ('vip',)
2025-06-25 11:38:52,623 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests] 
WHERE [Guests].[Level] = ?) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests] 
WHERE [Guests].[Level] = ?) AS anon_1
2025-06-25 11:38:52,623 INFO sqlalchemy.engine.Engine [cached since 0.005519s ago] ('diamond',)
INFO:sqlalchemy.engine.Engine:[cached since 0.005519s ago] ('diamond',)
2025-06-25 11:38:52,628 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests] 
WHERE [Guests].[Level] = ?) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests] 
WHERE [Guests].[Level] = ?) AS anon_1
2025-06-25 11:38:52,628 INFO sqlalchemy.engine.Engine [cached since 0.009377s ago] ('normal',)
INFO:sqlalchemy.engine.Engine:[cached since 0.009377s ago] ('normal',)
2025-06-25 11:38:52,636 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests] 
WHERE (EXISTS (SELECT 1 
FROM [Bills] 
WHERE [Guests].[GuestID] = [Bills].[GuestID] AND [Bills].[BillDate] >= ?)) AND (EXISTS (SELECT 1 
FROM [Bills] 
WHERE [Guests].[GuestID] = [Bills].[GuestID] AND [Bills].[BillDate] <= ?))) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests] 
WHERE (EXISTS (SELECT 1 
FROM [Bills] 
WHERE [Guests].[GuestID] = [Bills].[GuestID] AND [Bills].[BillDate] >= ?)) AND (EXISTS (SELECT 1 
FROM [Bills] 
WHERE [Guests].[GuestID] = [Bills].[GuestID] AND [Bills].[BillDate] <= ?))) AS anon_1
2025-06-25 11:38:52,636 INFO sqlalchemy.engine.Engine [generated in 0.00078s] (datetime.datetime(2025, 5, 26, 0, 0), datetime.datetime(2025, 6, 25, 0, 0))
INFO:sqlalchemy.engine.Engine:[generated in 0.00078s] (datetime.datetime(2025, 5, 26, 0, 0), datetime.datetime(2025, 6, 25, 0, 0))
2025-06-25 11:38:52,673 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests] 
WHERE EXISTS (SELECT 1 
FROM [Bills] 
WHERE [Guests].[GuestID] = [Bills].[GuestID])) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests] 
WHERE EXISTS (SELECT 1 
FROM [Bills] 
WHERE [Guests].[GuestID] = [Bills].[GuestID])) AS anon_1
2025-06-25 11:38:52,674 INFO sqlalchemy.engine.Engine [generated in 0.00059s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00059s] ()
INFO:     127.0.0.1:53998 - "GET /report/customer?start=2025-05-26&end=2025-06-25 HTTP/1.1" 200 OK
2025-06-25 11:38:52,682 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:53998 - "OPTIONS /report/product HTTP/1.1" 200 OK
2025-06-25 11:38:55,300 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:38:55,301 INFO sqlalchemy.engine.Engine SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]
2025-06-25 11:38:55,301 INFO sqlalchemy.engine.Engine [cached since 20.02s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 20.02s ago] ()
2025-06-25 11:38:55,304 INFO sqlalchemy.engine.Engine SELECT TOP 10 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
INFO:sqlalchemy.engine.Engine:SELECT TOP 10 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
2025-06-25 11:38:55,304 INFO sqlalchemy.engine.Engine [cached since 44.13s ago] ('已结账',)
INFO:sqlalchemy.engine.Engine:[cached since 44.13s ago] ('已结账',)
INFO:     127.0.0.1:53998 - "GET /report/product HTTP/1.1" 200 OK
2025-06-25 11:38:55,311 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-25 11:38:58,743 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:38:58,743 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests]
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests]
2025-06-25 11:38:58,744 INFO sqlalchemy.engine.Engine [cached since 47.69s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 47.69s ago] ()
2025-06-25 11:38:58,746 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests] 
WHERE [Guests].[Level] = ?) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests] 
WHERE [Guests].[Level] = ?) AS anon_1
2025-06-25 11:38:58,746 INFO sqlalchemy.engine.Engine [cached since 6.126s ago] ('vip',)
INFO:sqlalchemy.engine.Engine:[cached since 6.126s ago] ('vip',)
2025-06-25 11:38:58,747 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests] 
WHERE [Guests].[Level] = ?) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests] 
WHERE [Guests].[Level] = ?) AS anon_1
2025-06-25 11:38:58,748 INFO sqlalchemy.engine.Engine [cached since 6.128s ago] ('diamond',)
INFO:sqlalchemy.engine.Engine:[cached since 6.128s ago] ('diamond',)
2025-06-25 11:38:58,749 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests] 
WHERE [Guests].[Level] = ?) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests] 
WHERE [Guests].[Level] = ?) AS anon_1
2025-06-25 11:38:58,749 INFO sqlalchemy.engine.Engine [cached since 6.13s ago] ('normal',)
INFO:sqlalchemy.engine.Engine:[cached since 6.13s ago] ('normal',)
2025-06-25 11:38:58,752 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests] 
WHERE (EXISTS (SELECT 1 
FROM [Bills] 
WHERE [Guests].[GuestID] = [Bills].[GuestID] AND [Bills].[BillDate] >= ?)) AND (EXISTS (SELECT 1 
FROM [Bills] 
WHERE [Guests].[GuestID] = [Bills].[GuestID] AND [Bills].[BillDate] <= ?))) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests] 
WHERE (EXISTS (SELECT 1 
FROM [Bills] 
WHERE [Guests].[GuestID] = [Bills].[GuestID] AND [Bills].[BillDate] >= ?)) AND (EXISTS (SELECT 1 
FROM [Bills] 
WHERE [Guests].[GuestID] = [Bills].[GuestID] AND [Bills].[BillDate] <= ?))) AS anon_1
2025-06-25 11:38:58,752 INFO sqlalchemy.engine.Engine [cached since 6.115s ago] (datetime.datetime(2025, 5, 26, 0, 0), datetime.datetime(2025, 6, 25, 0, 0))
INFO:sqlalchemy.engine.Engine:[cached since 6.115s ago] (datetime.datetime(2025, 5, 26, 0, 0), datetime.datetime(2025, 6, 25, 0, 0))
2025-06-25 11:38:58,752 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests] 
WHERE EXISTS (SELECT 1 
FROM [Bills] 
WHERE [Guests].[GuestID] = [Bills].[GuestID])) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests] 
WHERE EXISTS (SELECT 1 
FROM [Bills] 
WHERE [Guests].[GuestID] = [Bills].[GuestID])) AS anon_1
2025-06-25 11:38:58,752 INFO sqlalchemy.engine.Engine [cached since 6.081s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 6.081s ago] ()
INFO:     127.0.0.1:53998 - "GET /report/customer?start=2025-05-26&end=2025-06-25 HTTP/1.1" 200 OK
2025-06-25 11:38:58,756 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-25 11:39:12,145 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:39:12,146 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests]
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests]
2025-06-25 11:39:12,146 INFO sqlalchemy.engine.Engine [cached since 61.1s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 61.1s ago] ()
2025-06-25 11:39:12,149 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:39:12,150 INFO sqlalchemy.engine.Engine [cached since 61.09s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 61.09s ago] (1,)
2025-06-25 11:39:12,154 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:39:12,155 INFO sqlalchemy.engine.Engine [cached since 61.09s ago] (2,)
INFO:sqlalchemy.engine.Engine:[cached since 61.09s ago] (2,)
2025-06-25 11:39:12,155 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:39:12,155 INFO sqlalchemy.engine.Engine [cached since 61.09s ago] (3,)
INFO:sqlalchemy.engine.Engine:[cached since 61.09s ago] (3,)
2025-06-25 11:39:12,158 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:39:12,158 INFO sqlalchemy.engine.Engine [cached since 61.1s ago] (4,)
INFO:sqlalchemy.engine.Engine:[cached since 61.1s ago] (4,)
2025-06-25 11:39:12,160 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:39:12,160 INFO sqlalchemy.engine.Engine [cached since 61.1s ago] (5,)
INFO:sqlalchemy.engine.Engine:[cached since 61.1s ago] (5,)
2025-06-25 11:39:12,161 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:39:12,161 INFO sqlalchemy.engine.Engine [cached since 61.1s ago] (6,)
INFO:sqlalchemy.engine.Engine:[cached since 61.1s ago] (6,)
2025-06-25 11:39:12,161 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:39:12,161 INFO sqlalchemy.engine.Engine [cached since 61.1s ago] (8,)
INFO:sqlalchemy.engine.Engine:[cached since 61.1s ago] (8,)
2025-06-25 11:39:12,164 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:39:12,164 INFO sqlalchemy.engine.Engine [cached since 61.1s ago] (13,)
INFO:sqlalchemy.engine.Engine:[cached since 61.1s ago] (13,)
2025-06-25 11:39:12,164 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:39:12,167 INFO sqlalchemy.engine.Engine [cached since 61.1s ago] (14,)
INFO:sqlalchemy.engine.Engine:[cached since 61.1s ago] (14,)
INFO:     127.0.0.1:53999 - "GET /guests HTTP/1.1" 200 OK
2025-06-25 11:39:12,169 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-25 11:39:12,442 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:39:12,443 INFO sqlalchemy.engine.Engine SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]
2025-06-25 11:39:12,443 INFO sqlalchemy.engine.Engine [cached since 37.16s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 37.16s ago] ()
INFO:     127.0.0.1:53999 - "GET /products HTTP/1.1" 200 OK
2025-06-25 11:39:12,449 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-25 11:39:12,779 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:39:12,779 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests]
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests]
2025-06-25 11:39:12,780 INFO sqlalchemy.engine.Engine [cached since 61.73s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 61.73s ago] ()
2025-06-25 11:39:12,780 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:39:12,780 INFO sqlalchemy.engine.Engine [cached since 61.72s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 61.72s ago] (1,)
2025-06-25 11:39:12,783 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:39:12,783 INFO sqlalchemy.engine.Engine [cached since 61.72s ago] (2,)
INFO:sqlalchemy.engine.Engine:[cached since 61.72s ago] (2,)
2025-06-25 11:39:12,784 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:39:12,784 INFO sqlalchemy.engine.Engine [cached since 61.72s ago] (3,)
INFO:sqlalchemy.engine.Engine:[cached since 61.72s ago] (3,)
2025-06-25 11:39:12,786 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:39:12,786 INFO sqlalchemy.engine.Engine [cached since 61.73s ago] (4,)
INFO:sqlalchemy.engine.Engine:[cached since 61.73s ago] (4,)
2025-06-25 11:39:12,786 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:39:12,786 INFO sqlalchemy.engine.Engine [cached since 61.73s ago] (5,)
INFO:sqlalchemy.engine.Engine:[cached since 61.73s ago] (5,)
2025-06-25 11:39:12,786 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:39:12,786 INFO sqlalchemy.engine.Engine [cached since 61.73s ago] (6,)
INFO:sqlalchemy.engine.Engine:[cached since 61.73s ago] (6,)
2025-06-25 11:39:12,786 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:39:12,786 INFO sqlalchemy.engine.Engine [cached since 61.73s ago] (8,)
INFO:sqlalchemy.engine.Engine:[cached since 61.73s ago] (8,)
2025-06-25 11:39:12,786 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:39:12,786 INFO sqlalchemy.engine.Engine [cached since 61.73s ago] (13,)
INFO:sqlalchemy.engine.Engine:[cached since 61.73s ago] (13,)
2025-06-25 11:39:12,786 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:39:12,786 INFO sqlalchemy.engine.Engine [cached since 61.73s ago] (14,)
INFO:sqlalchemy.engine.Engine:[cached since 61.73s ago] (14,)
INFO:     127.0.0.1:53999 - "GET /guests HTTP/1.1" 200 OK
2025-06-25 11:39:12,786 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-25 11:39:13,110 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:39:13,111 INFO sqlalchemy.engine.Engine SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]
2025-06-25 11:39:13,111 INFO sqlalchemy.engine.Engine [cached since 37.82s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 37.82s ago] ()
INFO:     127.0.0.1:53999 - "GET /products HTTP/1.1" 200 OK
2025-06-25 11:39:13,114 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-25 11:39:13,459 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:39:13,459 INFO sqlalchemy.engine.Engine SELECT DISTINCT [Products].[Category] AS [Products_Category] 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT DISTINCT [Products].[Category] AS [Products_Category] 
FROM [Products]
2025-06-25 11:39:13,460 INFO sqlalchemy.engine.Engine [cached since 38.2s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 38.2s ago] ()
INFO:     127.0.0.1:53999 - "GET /categories HTTP/1.1" 200 OK
2025-06-25 11:39:13,461 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-25 11:39:13,479 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:39:13,482 INFO sqlalchemy.engine.Engine SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]
2025-06-25 11:39:13,482 INFO sqlalchemy.engine.Engine [cached since 38.2s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 38.2s ago] ()
INFO:     127.0.0.1:53999 - "GET /products HTTP/1.1" 200 OK
2025-06-25 11:39:13,482 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:53999 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54000 - "GET /health HTTP/1.1" 200 OK
2025-06-25 11:39:14,769 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:39:14,770 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]) AS anon_1
2025-06-25 11:39:14,770 INFO sqlalchemy.engine.Engine [cached since 63.72s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 63.72s ago] ()
2025-06-25 11:39:14,770 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills]) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills]) AS anon_1
2025-06-25 11:39:14,770 INFO sqlalchemy.engine.Engine [cached since 63.72s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 63.72s ago] ()
2025-06-25 11:39:14,774 INFO sqlalchemy.engine.Engine SELECT sum([Products].[Stock]) AS sum_1 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT sum([Products].[Stock]) AS sum_1 
FROM [Products]
2025-06-25 11:39:14,774 INFO sqlalchemy.engine.Engine [cached since 63.71s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 63.71s ago] ()
2025-06-25 11:39:14,774 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[Stock] < ?) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[Stock] < ?) AS anon_1
2025-06-25 11:39:14,777 INFO sqlalchemy.engine.Engine [cached since 63.7s ago] (10,)
INFO:sqlalchemy.engine.Engine:[cached since 63.7s ago] (10,)
INFO:     127.0.0.1:54000 - "GET /stats HTTP/1.1" 200 OK
2025-06-25 11:39:14,778 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-25 11:39:14,782 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:39:14,782 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]) AS anon_1
2025-06-25 11:39:14,782 INFO sqlalchemy.engine.Engine [cached since 63.74s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 63.74s ago] ()
2025-06-25 11:39:14,782 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills]) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills]) AS anon_1
2025-06-25 11:39:14,782 INFO sqlalchemy.engine.Engine [cached since 63.73s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 63.73s ago] ()
2025-06-25 11:39:14,786 INFO sqlalchemy.engine.Engine SELECT sum([Products].[Stock]) AS sum_1 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT sum([Products].[Stock]) AS sum_1 
FROM [Products]
2025-06-25 11:39:14,786 INFO sqlalchemy.engine.Engine [cached since 63.72s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 63.72s ago] ()
2025-06-25 11:39:14,786 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:39:14,790 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[Stock] < ?) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[Stock] < ?) AS anon_1
2025-06-25 11:39:14,790 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 11:39:14,790 INFO sqlalchemy.engine.Engine [cached since 63.71s ago] (10,)
INFO:sqlalchemy.engine.Engine:[cached since 63.71s ago] (10,)
2025-06-25 11:39:14,790 INFO sqlalchemy.engine.Engine [cached since 63.68s ago] (datetime.datetime(2025, 6, 25, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 63.68s ago] (datetime.datetime(2025, 6, 25, 0, 0), '已结账')
INFO:     127.0.0.1:53999 - "GET /stats HTTP/1.1" 200 OK
2025-06-25 11:39:14,790 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-25 11:39:14,794 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 11:39:14,794 INFO sqlalchemy.engine.Engine [cached since 63.68s ago] (datetime.datetime(2025, 6, 23, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 63.68s ago] (datetime.datetime(2025, 6, 23, 0, 0), '已结账')
2025-06-25 11:39:14,794 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
2025-06-25 11:39:14,794 INFO sqlalchemy.engine.Engine [cached since 63.67s ago] (datetime.datetime(2025, 6, 16, 0, 0), datetime.datetime(2025, 6, 22, 23, 59, 59), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 63.67s ago] (datetime.datetime(2025, 6, 16, 0, 0), datetime.datetime(2025, 6, 22, 23, 59, 59), '已结账')
2025-06-25 11:39:14,799 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 11:39:14,799 INFO sqlalchemy.engine.Engine [cached since 63.69s ago] (datetime.datetime(2025, 6, 1, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 63.69s ago] (datetime.datetime(2025, 6, 1, 0, 0), '已结账')
INFO:     127.0.0.1:54000 - "GET /dashboard/sales HTTP/1.1" 200 OK
2025-06-25 11:39:14,799 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-25 11:39:14,803 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:39:14,803 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 11:39:14,803 INFO sqlalchemy.engine.Engine [cached since 63.69s ago] (datetime.datetime(2025, 6, 25, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 63.69s ago] (datetime.datetime(2025, 6, 25, 0, 0), '已结账')
2025-06-25 11:39:14,803 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 11:39:14,803 INFO sqlalchemy.engine.Engine [cached since 63.69s ago] (datetime.datetime(2025, 6, 23, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 63.69s ago] (datetime.datetime(2025, 6, 23, 0, 0), '已结账')
2025-06-25 11:39:14,807 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
2025-06-25 11:39:14,807 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:39:14,807 INFO sqlalchemy.engine.Engine [cached since 63.68s ago] (datetime.datetime(2025, 6, 16, 0, 0), datetime.datetime(2025, 6, 22, 23, 59, 59), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 63.68s ago] (datetime.datetime(2025, 6, 16, 0, 0), datetime.datetime(2025, 6, 22, 23, 59, 59), '已结账')
2025-06-25 11:39:14,807 INFO sqlalchemy.engine.Engine SELECT TOP 5 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
INFO:sqlalchemy.engine.Engine:SELECT TOP 5 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
2025-06-25 11:39:14,807 INFO sqlalchemy.engine.Engine [cached since 63.63s ago] ('已结账',)
INFO:sqlalchemy.engine.Engine:[cached since 63.63s ago] ('已结账',)
2025-06-25 11:39:14,811 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 11:39:14,812 INFO sqlalchemy.engine.Engine [cached since 63.7s ago] (datetime.datetime(2025, 6, 1, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 63.7s ago] (datetime.datetime(2025, 6, 1, 0, 0), '已结账')
INFO:     127.0.0.1:53999 - "GET /dashboard/sales HTTP/1.1" 200 OK
2025-06-25 11:39:14,812 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:54000 - "GET /dashboard/top-products?limit=5 HTTP/1.1" 200 OK
2025-06-25 11:39:14,815 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-25 11:39:14,819 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:39:14,819 INFO sqlalchemy.engine.Engine SELECT TOP 5 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
INFO:sqlalchemy.engine.Engine:SELECT TOP 5 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
2025-06-25 11:39:14,819 INFO sqlalchemy.engine.Engine [cached since 63.64s ago] ('已结账',)
INFO:sqlalchemy.engine.Engine:[cached since 63.64s ago] ('已结账',)
INFO:     127.0.0.1:53999 - "GET /dashboard/top-products?limit=5 HTTP/1.1" 200 OK
2025-06-25 11:39:14,823 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:53999 - "OPTIONS /bills HTTP/1.1" 200 OK
INFO:__main__:正在获取订单列表...
2025-06-25 11:39:15,103 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:39:15,105 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] ORDER BY [Bills].[BillDate] DESC
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] ORDER BY [Bills].[BillDate] DESC
2025-06-25 11:39:15,105 INFO sqlalchemy.engine.Engine [generated in 0.00056s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00056s] ()
INFO:__main__:成功获取到 3 个订单
2025-06-25 11:39:15,108 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-25 11:39:15,108 INFO sqlalchemy.engine.Engine [generated in 0.00042s] (3,)
INFO:sqlalchemy.engine.Engine:[generated in 0.00042s] (3,)
2025-06-25 11:39:15,111 INFO sqlalchemy.engine.Engine SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
INFO:sqlalchemy.engine.Engine:SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 11:39:15,111 INFO sqlalchemy.engine.Engine [generated in 0.00060s] (4,)
INFO:sqlalchemy.engine.Engine:[generated in 0.00060s] (4,)
2025-06-25 11:39:15,116 INFO sqlalchemy.engine.Engine SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
INFO:sqlalchemy.engine.Engine:SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 11:39:15,116 INFO sqlalchemy.engine.Engine [cached since 0.003975s ago] (6,)
INFO:sqlalchemy.engine.Engine:[cached since 0.003975s ago] (6,)
2025-06-25 11:39:15,120 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-25 11:39:15,120 INFO sqlalchemy.engine.Engine [generated in 0.00056s] (6,)
INFO:sqlalchemy.engine.Engine:[generated in 0.00056s] (6,)
2025-06-25 11:39:15,124 INFO sqlalchemy.engine.Engine SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone], [Employees].username AS [Employees_username], [Employees].password AS [Employees_password], [Employees].role AS [Employees_role] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone], [Employees].username AS [Employees_username], [Employees].password AS [Employees_password], [Employees].role AS [Employees_role] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
2025-06-25 11:39:15,124 INFO sqlalchemy.engine.Engine [generated in 0.00043s] (1,)
INFO:sqlalchemy.engine.Engine:[generated in 0.00043s] (1,)
2025-06-25 11:39:15,127 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-25 11:39:15,128 INFO sqlalchemy.engine.Engine [cached since 0.01839s ago] (2,)
INFO:sqlalchemy.engine.Engine:[cached since 0.01839s ago] (2,)
2025-06-25 11:39:15,129 INFO sqlalchemy.engine.Engine SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
INFO:sqlalchemy.engine.Engine:SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 11:39:15,129 INFO sqlalchemy.engine.Engine [cached since 0.0156s ago] (12,)
INFO:sqlalchemy.engine.Engine:[cached since 0.0156s ago] (12,)
2025-06-25 11:39:15,129 INFO sqlalchemy.engine.Engine SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
INFO:sqlalchemy.engine.Engine:SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 11:39:15,132 INFO sqlalchemy.engine.Engine [cached since 0.01754s ago] (8,)
INFO:sqlalchemy.engine.Engine:[cached since 0.01754s ago] (8,)
2025-06-25 11:39:15,132 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-25 11:39:15,132 INFO sqlalchemy.engine.Engine [cached since 0.01309s ago] (4,)
INFO:sqlalchemy.engine.Engine:[cached since 0.01309s ago] (4,)
2025-06-25 11:39:15,132 INFO sqlalchemy.engine.Engine SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone], [Employees].username AS [Employees_username], [Employees].password AS [Employees_password], [Employees].role AS [Employees_role] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone], [Employees].username AS [Employees_username], [Employees].password AS [Employees_password], [Employees].role AS [Employees_role] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
2025-06-25 11:39:15,132 INFO sqlalchemy.engine.Engine [cached since 0.01154s ago] (3,)
INFO:sqlalchemy.engine.Engine:[cached since 0.01154s ago] (3,)
2025-06-25 11:39:15,136 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-25 11:39:15,136 INFO sqlalchemy.engine.Engine [cached since 0.02798s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 0.02798s ago] (1,)
2025-06-25 11:39:15,136 INFO sqlalchemy.engine.Engine SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
INFO:sqlalchemy.engine.Engine:SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 11:39:15,136 INFO sqlalchemy.engine.Engine [cached since 0.0252s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 0.0252s ago] (1,)
2025-06-25 11:39:15,141 INFO sqlalchemy.engine.Engine SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
INFO:sqlalchemy.engine.Engine:SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 11:39:15,141 INFO sqlalchemy.engine.Engine [cached since 0.027s ago] (3,)
INFO:sqlalchemy.engine.Engine:[cached since 0.027s ago] (3,)
2025-06-25 11:39:15,141 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-25 11:39:15,141 INFO sqlalchemy.engine.Engine [cached since 0.02268s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 0.02268s ago] (1,)
INFO:     127.0.0.1:53999 - "GET /bills HTTP/1.1" 200 OK
2025-06-25 11:39:15,144 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-25 11:39:15,436 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:39:15,437 INFO sqlalchemy.engine.Engine SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]
2025-06-25 11:39:15,437 INFO sqlalchemy.engine.Engine [cached since 40.15s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 40.15s ago] ()
INFO:     127.0.0.1:53999 - "GET /products HTTP/1.1" 200 OK
2025-06-25 11:39:15,440 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-25 11:39:15,688 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:39:15,688 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests]
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests]
2025-06-25 11:39:15,688 INFO sqlalchemy.engine.Engine [cached since 64.64s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 64.64s ago] ()
2025-06-25 11:39:15,691 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:39:15,691 INFO sqlalchemy.engine.Engine [cached since 64.63s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 64.63s ago] (1,)
2025-06-25 11:39:15,693 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:39:15,693 INFO sqlalchemy.engine.Engine [cached since 64.63s ago] (2,)
INFO:sqlalchemy.engine.Engine:[cached since 64.63s ago] (2,)
2025-06-25 11:39:15,696 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:39:15,696 INFO sqlalchemy.engine.Engine [cached since 64.63s ago] (3,)
INFO:sqlalchemy.engine.Engine:[cached since 64.63s ago] (3,)
2025-06-25 11:39:15,696 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:39:15,696 INFO sqlalchemy.engine.Engine [cached since 64.64s ago] (4,)
INFO:sqlalchemy.engine.Engine:[cached since 64.64s ago] (4,)
2025-06-25 11:39:15,696 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:39:15,696 INFO sqlalchemy.engine.Engine [cached since 64.64s ago] (5,)
INFO:sqlalchemy.engine.Engine:[cached since 64.64s ago] (5,)
2025-06-25 11:39:15,696 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:39:15,696 INFO sqlalchemy.engine.Engine [cached since 64.64s ago] (6,)
INFO:sqlalchemy.engine.Engine:[cached since 64.64s ago] (6,)
2025-06-25 11:39:15,703 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:39:15,703 INFO sqlalchemy.engine.Engine [cached since 64.64s ago] (8,)
INFO:sqlalchemy.engine.Engine:[cached since 64.64s ago] (8,)
2025-06-25 11:39:15,703 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:39:15,703 INFO sqlalchemy.engine.Engine [cached since 64.64s ago] (13,)
INFO:sqlalchemy.engine.Engine:[cached since 64.64s ago] (13,)
2025-06-25 11:39:15,703 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-25 11:39:15,703 INFO sqlalchemy.engine.Engine [cached since 64.65s ago] (14,)
INFO:sqlalchemy.engine.Engine:[cached since 64.65s ago] (14,)
INFO:     127.0.0.1:53999 - "GET /guests HTTP/1.1" 200 OK
2025-06-25 11:39:15,707 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-25 11:39:15,980 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:39:15,982 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
2025-06-25 11:39:15,982 INFO sqlalchemy.engine.Engine [cached since 64.84s ago] (datetime.datetime(2025, 5, 26, 0, 0), datetime.datetime(2025, 6, 25, 23, 59, 59), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 64.84s ago] (datetime.datetime(2025, 5, 26, 0, 0), datetime.datetime(2025, 6, 25, 23, 59, 59), '已结账')
2025-06-25 11:39:15,988 INFO sqlalchemy.engine.Engine SELECT TOP 10 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales, sum([BillItems].[Price] * [BillItems].[Quantity]) AS revenue 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
INFO:sqlalchemy.engine.Engine:SELECT TOP 10 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales, sum([BillItems].[Price] * [BillItems].[Quantity]) AS revenue 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
2025-06-25 11:39:15,988 INFO sqlalchemy.engine.Engine [cached since 64.83s ago] (datetime.datetime(2025, 5, 26, 0, 0), datetime.datetime(2025, 6, 25, 23, 59, 59), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 64.83s ago] (datetime.datetime(2025, 5, 26, 0, 0), datetime.datetime(2025, 6, 25, 23, 59, 59), '已结账')
INFO:     127.0.0.1:53999 - "GET /report/sales?start=2025-05-26&end=2025-06-25&unit=day HTTP/1.1" 200 OK
2025-06-25 11:39:15,994 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-25 11:39:16,565 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:39:16,566 INFO sqlalchemy.engine.Engine SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]
2025-06-25 11:39:16,566 INFO sqlalchemy.engine.Engine [cached since 41.28s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 41.28s ago] ()
INFO:     127.0.0.1:53999 - "GET /products HTTP/1.1" 200 OK
2025-06-25 11:39:16,570 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:__main__:正在获取订单列表...
2025-06-25 11:39:16,939 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:39:16,940 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] ORDER BY [Bills].[BillDate] DESC
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] ORDER BY [Bills].[BillDate] DESC
2025-06-25 11:39:16,940 INFO sqlalchemy.engine.Engine [cached since 1.836s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.836s ago] ()
INFO:__main__:成功获取到 3 个订单
2025-06-25 11:39:16,941 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-25 11:39:16,941 INFO sqlalchemy.engine.Engine [cached since 1.834s ago] (3,)
INFO:sqlalchemy.engine.Engine:[cached since 1.834s ago] (3,)
2025-06-25 11:39:16,946 INFO sqlalchemy.engine.Engine SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
INFO:sqlalchemy.engine.Engine:SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 11:39:16,946 INFO sqlalchemy.engine.Engine [cached since 1.832s ago] (4,)
INFO:sqlalchemy.engine.Engine:[cached since 1.832s ago] (4,)
2025-06-25 11:39:16,947 INFO sqlalchemy.engine.Engine SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
INFO:sqlalchemy.engine.Engine:SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 11:39:16,947 INFO sqlalchemy.engine.Engine [cached since 1.834s ago] (6,)
INFO:sqlalchemy.engine.Engine:[cached since 1.834s ago] (6,)
2025-06-25 11:39:16,950 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-25 11:39:16,950 INFO sqlalchemy.engine.Engine [cached since 1.83s ago] (6,)
INFO:sqlalchemy.engine.Engine:[cached since 1.83s ago] (6,)
2025-06-25 11:39:16,950 INFO sqlalchemy.engine.Engine SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone], [Employees].username AS [Employees_username], [Employees].password AS [Employees_password], [Employees].role AS [Employees_role] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone], [Employees].username AS [Employees_username], [Employees].password AS [Employees_password], [Employees].role AS [Employees_role] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
2025-06-25 11:39:16,950 INFO sqlalchemy.engine.Engine [cached since 1.828s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.828s ago] (1,)
2025-06-25 11:39:16,954 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-25 11:39:16,954 INFO sqlalchemy.engine.Engine [cached since 1.845s ago] (2,)
INFO:sqlalchemy.engine.Engine:[cached since 1.845s ago] (2,)
2025-06-25 11:39:16,954 INFO sqlalchemy.engine.Engine SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
INFO:sqlalchemy.engine.Engine:SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 11:39:16,954 INFO sqlalchemy.engine.Engine [cached since 1.842s ago] (12,)
INFO:sqlalchemy.engine.Engine:[cached since 1.842s ago] (12,)
2025-06-25 11:39:16,957 INFO sqlalchemy.engine.Engine SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
INFO:sqlalchemy.engine.Engine:SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 11:39:16,957 INFO sqlalchemy.engine.Engine [cached since 1.844s ago] (8,)
INFO:sqlalchemy.engine.Engine:[cached since 1.844s ago] (8,)
2025-06-25 11:39:16,957 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-25 11:39:16,957 INFO sqlalchemy.engine.Engine [cached since 1.839s ago] (4,)
INFO:sqlalchemy.engine.Engine:[cached since 1.839s ago] (4,)
2025-06-25 11:39:16,961 INFO sqlalchemy.engine.Engine SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone], [Employees].username AS [Employees_username], [Employees].password AS [Employees_password], [Employees].role AS [Employees_role] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone], [Employees].username AS [Employees_username], [Employees].password AS [Employees_password], [Employees].role AS [Employees_role] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
2025-06-25 11:39:16,962 INFO sqlalchemy.engine.Engine [cached since 1.838s ago] (3,)
INFO:sqlalchemy.engine.Engine:[cached since 1.838s ago] (3,)
2025-06-25 11:39:16,962 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-25 11:39:16,962 INFO sqlalchemy.engine.Engine [cached since 1.854s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.854s ago] (1,)
2025-06-25 11:39:16,965 INFO sqlalchemy.engine.Engine SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
INFO:sqlalchemy.engine.Engine:SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 11:39:16,966 INFO sqlalchemy.engine.Engine [cached since 1.852s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.852s ago] (1,)
2025-06-25 11:39:16,966 INFO sqlalchemy.engine.Engine SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
INFO:sqlalchemy.engine.Engine:SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-25 11:39:16,966 INFO sqlalchemy.engine.Engine [cached since 1.854s ago] (3,)
INFO:sqlalchemy.engine.Engine:[cached since 1.854s ago] (3,)
2025-06-25 11:39:16,966 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[Level] AS [Guests_Level], [Guests].[Points] AS [Guests_Points], [Guests].[Phone] AS [Guests_Phone] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-25 11:39:16,969 INFO sqlalchemy.engine.Engine [cached since 1.849s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 1.849s ago] (1,)
INFO:     127.0.0.1:53999 - "GET /bills HTTP/1.1" 200 OK
2025-06-25 11:39:16,970 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:53999 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54000 - "GET /health HTTP/1.1" 200 OK
2025-06-25 11:39:17,561 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:39:17,562 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]) AS anon_1
2025-06-25 11:39:17,562 INFO sqlalchemy.engine.Engine [cached since 66.51s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 66.51s ago] ()
2025-06-25 11:39:17,562 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills]) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills]) AS anon_1
2025-06-25 11:39:17,562 INFO sqlalchemy.engine.Engine [cached since 66.51s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 66.51s ago] ()
2025-06-25 11:39:17,565 INFO sqlalchemy.engine.Engine SELECT sum([Products].[Stock]) AS sum_1 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT sum([Products].[Stock]) AS sum_1 
FROM [Products]
2025-06-25 11:39:17,566 INFO sqlalchemy.engine.Engine [cached since 66.5s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 66.5s ago] ()
2025-06-25 11:39:17,566 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[Stock] < ?) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[Stock] < ?) AS anon_1
2025-06-25 11:39:17,566 INFO sqlalchemy.engine.Engine [cached since 66.49s ago] (10,)
INFO:sqlalchemy.engine.Engine:[cached since 66.49s ago] (10,)
INFO:     127.0.0.1:54000 - "GET /stats HTTP/1.1" 200 OK
2025-06-25 11:39:17,570 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-25 11:39:17,570 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:39:17,574 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products]) AS anon_1
2025-06-25 11:39:17,574 INFO sqlalchemy.engine.Engine [cached since 66.53s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 66.53s ago] ()
2025-06-25 11:39:17,575 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills]) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills]) AS anon_1
2025-06-25 11:39:17,575 INFO sqlalchemy.engine.Engine [cached since 66.52s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 66.52s ago] ()
2025-06-25 11:39:17,575 INFO sqlalchemy.engine.Engine SELECT sum([Products].[Stock]) AS sum_1 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT sum([Products].[Stock]) AS sum_1 
FROM [Products]
2025-06-25 11:39:17,578 INFO sqlalchemy.engine.Engine [cached since 66.51s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 66.51s ago] ()
2025-06-25 11:39:17,579 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[Stock] < ?) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[Category] AS [Products_Category] 
FROM [Products] 
WHERE [Products].[Stock] < ?) AS anon_1
2025-06-25 11:39:17,579 INFO sqlalchemy.engine.Engine [cached since 66.5s ago] (10,)
INFO:sqlalchemy.engine.Engine:[cached since 66.5s ago] (10,)
INFO:     127.0.0.1:53999 - "GET /stats HTTP/1.1" 200 OK
2025-06-25 11:39:17,582 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-25 11:39:17,583 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:39:17,583 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 11:39:17,583 INFO sqlalchemy.engine.Engine [cached since 66.47s ago] (datetime.datetime(2025, 6, 25, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 66.47s ago] (datetime.datetime(2025, 6, 25, 0, 0), '已结账')
2025-06-25 11:39:17,586 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 11:39:17,586 INFO sqlalchemy.engine.Engine [cached since 66.47s ago] (datetime.datetime(2025, 6, 23, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 66.47s ago] (datetime.datetime(2025, 6, 23, 0, 0), '已结账')
2025-06-25 11:39:17,586 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
2025-06-25 11:39:17,586 INFO sqlalchemy.engine.Engine [cached since 66.46s ago] (datetime.datetime(2025, 6, 16, 0, 0), datetime.datetime(2025, 6, 22, 23, 59, 59), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 66.46s ago] (datetime.datetime(2025, 6, 16, 0, 0), datetime.datetime(2025, 6, 22, 23, 59, 59), '已结账')
2025-06-25 11:39:17,591 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 11:39:17,591 INFO sqlalchemy.engine.Engine [cached since 66.48s ago] (datetime.datetime(2025, 6, 1, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 66.48s ago] (datetime.datetime(2025, 6, 1, 0, 0), '已结账')
INFO:     127.0.0.1:54000 - "GET /dashboard/sales HTTP/1.1" 200 OK
2025-06-25 11:39:17,591 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-25 11:39:17,595 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:39:17,595 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 11:39:17,595 INFO sqlalchemy.engine.Engine [cached since 66.48s ago] (datetime.datetime(2025, 6, 25, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 66.48s ago] (datetime.datetime(2025, 6, 25, 0, 0), '已结账')
2025-06-25 11:39:17,595 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 11:39:17,599 INFO sqlalchemy.engine.Engine [cached since 66.49s ago] (datetime.datetime(2025, 6, 23, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 66.49s ago] (datetime.datetime(2025, 6, 23, 0, 0), '已结账')
2025-06-25 11:39:17,600 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
2025-06-25 11:39:17,600 INFO sqlalchemy.engine.Engine [cached since 66.47s ago] (datetime.datetime(2025, 6, 16, 0, 0), datetime.datetime(2025, 6, 22, 23, 59, 59), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 66.47s ago] (datetime.datetime(2025, 6, 16, 0, 0), datetime.datetime(2025, 6, 22, 23, 59, 59), '已结账')
2025-06-25 11:39:17,600 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-25 11:39:17,600 INFO sqlalchemy.engine.Engine [cached since 66.49s ago] (datetime.datetime(2025, 6, 1, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 66.49s ago] (datetime.datetime(2025, 6, 1, 0, 0), '已结账')
INFO:     127.0.0.1:53999 - "GET /dashboard/sales HTTP/1.1" 200 OK
2025-06-25 11:39:17,604 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-25 11:39:17,607 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:39:17,608 INFO sqlalchemy.engine.Engine SELECT TOP 5 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
INFO:sqlalchemy.engine.Engine:SELECT TOP 5 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
2025-06-25 11:39:17,608 INFO sqlalchemy.engine.Engine [cached since 66.43s ago] ('已结账',)
INFO:sqlalchemy.engine.Engine:[cached since 66.43s ago] ('已结账',)
INFO:     127.0.0.1:54000 - "GET /dashboard/top-products?limit=5 HTTP/1.1" 200 OK
2025-06-25 11:39:17,611 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-25 11:39:17,616 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-25 11:39:17,616 INFO sqlalchemy.engine.Engine SELECT TOP 5 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
INFO:sqlalchemy.engine.Engine:SELECT TOP 5 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
2025-06-25 11:39:17,616 INFO sqlalchemy.engine.Engine [cached since 66.44s ago] ('已结账',)
INFO:sqlalchemy.engine.Engine:[cached since 66.44s ago] ('已结账',)
INFO:     127.0.0.1:54000 - "GET /dashboard/top-products?limit=5 HTTP/1.1" 200 OK
2025-06-25 11:39:17,621 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [21964]
