C:\Users\sdjf\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\_internal\_config.py:318: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [9188]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:9527 (Press CTRL+C to quit)
INFO:__main__:正在获取订单列表...
2025-06-24 19:29:52,457 INFO sqlalchemy.engine.Engine SELECT CAST(SERVERPROPERTY('ProductVersion') AS VARCHAR)
INFO:sqlalchemy.engine.Engine:SELECT CAST(SERVERPROPERTY('ProductVersion') AS VARCHAR)
2025-06-24 19:29:52,458 INFO sqlalchemy.engine.Engine [raw sql] ()
INFO:sqlalchemy.engine.Engine:[raw sql] ()
2025-06-24 19:29:52,459 INFO sqlalchemy.engine.Engine SELECT schema_name()
INFO:sqlalchemy.engine.Engine:SELECT schema_name()
2025-06-24 19:29:52,459 INFO sqlalchemy.engine.Engine [generated in 0.00033s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00033s] ()
2025-06-24 19:29:52,508 INFO sqlalchemy.engine.Engine SELECT CAST('test max support' AS NVARCHAR(max))
INFO:sqlalchemy.engine.Engine:SELECT CAST('test max support' AS NVARCHAR(max))
2025-06-24 19:29:52,508 INFO sqlalchemy.engine.Engine [generated in 0.00042s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00042s] ()
2025-06-24 19:29:52,508 INFO sqlalchemy.engine.Engine SELECT 1 FROM fn_listextendedproperty(default, default, default, default, default, default, default)
INFO:sqlalchemy.engine.Engine:SELECT 1 FROM fn_listextendedproperty(default, default, default, default, default, default, default)
2025-06-24 19:29:52,508 INFO sqlalchemy.engine.Engine [generated in 0.00027s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00027s] ()
2025-06-24 19:29:52,602 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:29:52,602 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:29:52,612 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] ORDER BY [Bills].[BillDate] DESC
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] ORDER BY [Bills].[BillDate] DESC
2025-06-24 19:29:52,612 INFO sqlalchemy.engine.Engine SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]
2025-06-24 19:29:52,612 INFO sqlalchemy.engine.Engine [generated in 0.00205s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00205s] ()
2025-06-24 19:29:52,612 INFO sqlalchemy.engine.Engine [generated in 0.00078s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00078s] ()
INFO:     None:0 - "GET /products HTTP/1.1" 200 OK
INFO:__main__:成功获取到 3 个订单
2025-06-24 19:29:52,616 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-24 19:29:52,616 INFO sqlalchemy.engine.Engine [generated in 0.00050s] (6,)
INFO:sqlalchemy.engine.Engine:[generated in 0.00050s] (6,)
2025-06-24 19:29:52,616 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-24 19:29:52,625 INFO sqlalchemy.engine.Engine SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
2025-06-24 19:29:52,625 INFO sqlalchemy.engine.Engine [generated in 0.00041s] (1,)
INFO:sqlalchemy.engine.Engine:[generated in 0.00041s] (1,)
2025-06-24 19:29:52,625 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-24 19:29:52,625 INFO sqlalchemy.engine.Engine [generated in 0.00046s] (3,)
INFO:sqlalchemy.engine.Engine:[generated in 0.00046s] (3,)
2025-06-24 19:29:52,632 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-24 19:29:52,632 INFO sqlalchemy.engine.Engine [cached since 0.01636s ago] (4,)
INFO:sqlalchemy.engine.Engine:[cached since 0.01636s ago] (4,)
2025-06-24 19:29:52,637 INFO sqlalchemy.engine.Engine SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
2025-06-24 19:29:52,637 INFO sqlalchemy.engine.Engine [cached since 0.01187s ago] (3,)
INFO:sqlalchemy.engine.Engine:[cached since 0.01187s ago] (3,)
2025-06-24 19:29:52,638 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-24 19:29:52,638 INFO sqlalchemy.engine.Engine [cached since 0.007758s ago] (2,)
INFO:sqlalchemy.engine.Engine:[cached since 0.007758s ago] (2,)
2025-06-24 19:29:52,640 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-24 19:29:52,640 INFO sqlalchemy.engine.Engine [cached since 0.0208s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 0.0208s ago] (1,)
2025-06-24 19:29:52,641 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-24 19:29:52,642 INFO sqlalchemy.engine.Engine [cached since 0.01075s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 0.01075s ago] (1,)
2025-06-24 19:29:52,644 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:29:52,645 INFO sqlalchemy.engine.Engine SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]
2025-06-24 19:29:52,645 INFO sqlalchemy.engine.Engine [cached since 0.03352s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 0.03352s ago] ()
INFO:     None:0 - "GET /bills HTTP/1.1" 200 OK
2025-06-24 19:29:52,646 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     None:0 - "GET /products HTTP/1.1" 200 OK
2025-06-24 19:29:52,646 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     None:0 - "GET /health HTTP/1.1" 200 OK
2025-06-24 19:29:57,960 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:29:57,966 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]) AS anon_1
2025-06-24 19:29:57,966 INFO sqlalchemy.engine.Engine [generated in 0.00058s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00058s] ()
2025-06-24 19:29:57,971 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills]) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills]) AS anon_1
2025-06-24 19:29:57,972 INFO sqlalchemy.engine.Engine [generated in 0.00044s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00044s] ()
2025-06-24 19:29:57,975 INFO sqlalchemy.engine.Engine SELECT sum([Products].[Stock]) AS sum_1 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT sum([Products].[Stock]) AS sum_1 
FROM [Products]
2025-06-24 19:29:57,976 INFO sqlalchemy.engine.Engine [generated in 0.00054s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00054s] ()
2025-06-24 19:29:57,980 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products] 
WHERE [Products].[Stock] < ?) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products] 
WHERE [Products].[Stock] < ?) AS anon_1
2025-06-24 19:29:57,980 INFO sqlalchemy.engine.Engine [generated in 0.00056s] (10,)
INFO:sqlalchemy.engine.Engine:[generated in 0.00056s] (10,)
INFO:     None:0 - "GET /stats HTTP/1.1" 200 OK
2025-06-24 19:29:57,983 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-24 19:29:58,300 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:29:58,304 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-24 19:29:58,304 INFO sqlalchemy.engine.Engine [generated in 0.00050s] (datetime.datetime(2025, 6, 24, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[generated in 0.00050s] (datetime.datetime(2025, 6, 24, 0, 0), '已结账')
2025-06-24 19:29:58,304 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-24 19:29:58,304 INFO sqlalchemy.engine.Engine [cached since 0.005062s ago] (datetime.datetime(2025, 6, 23, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 0.005062s ago] (datetime.datetime(2025, 6, 23, 0, 0), '已结账')
2025-06-24 19:29:58,304 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
2025-06-24 19:29:58,312 INFO sqlalchemy.engine.Engine [generated in 0.00064s] (datetime.datetime(2025, 6, 16, 0, 0), datetime.datetime(2025, 6, 22, 23, 59, 59), '已结账')
INFO:sqlalchemy.engine.Engine:[generated in 0.00064s] (datetime.datetime(2025, 6, 16, 0, 0), datetime.datetime(2025, 6, 22, 23, 59, 59), '已结账')
2025-06-24 19:29:58,314 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-24 19:29:58,314 INFO sqlalchemy.engine.Engine [cached since 0.01177s ago] (datetime.datetime(2025, 6, 1, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 0.01177s ago] (datetime.datetime(2025, 6, 1, 0, 0), '已结账')
INFO:     None:0 - "GET /dashboard/sales HTTP/1.1" 200 OK
2025-06-24 19:29:58,314 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-24 19:29:58,554 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:29:58,562 INFO sqlalchemy.engine.Engine SELECT TOP 5 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
INFO:sqlalchemy.engine.Engine:SELECT TOP 5 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
2025-06-24 19:29:58,562 INFO sqlalchemy.engine.Engine [generated in 0.00042s] ('已结账',)
INFO:sqlalchemy.engine.Engine:[generated in 0.00042s] ('已结账',)
INFO:     None:0 - "GET /dashboard/top-products?limit=5 HTTP/1.1" 200 OK
2025-06-24 19:29:58,569 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-24 19:30:04,882 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:30:04,883 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
2025-06-24 19:30:04,883 INFO sqlalchemy.engine.Engine [generated in 0.00050s] (datetime.datetime(2025, 5, 25, 0, 0), datetime.datetime(2025, 6, 24, 23, 59, 59), '已结账')
INFO:sqlalchemy.engine.Engine:[generated in 0.00050s] (datetime.datetime(2025, 5, 25, 0, 0), datetime.datetime(2025, 6, 24, 23, 59, 59), '已结账')
2025-06-24 19:30:04,890 INFO sqlalchemy.engine.Engine SELECT TOP 10 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales, sum([BillItems].[Price] * [BillItems].[Quantity]) AS revenue 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
INFO:sqlalchemy.engine.Engine:SELECT TOP 10 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales, sum([BillItems].[Price] * [BillItems].[Quantity]) AS revenue 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
2025-06-24 19:30:04,890 INFO sqlalchemy.engine.Engine [generated in 0.00046s] (datetime.datetime(2025, 5, 25, 0, 0), datetime.datetime(2025, 6, 24, 23, 59, 59), '已结账')
INFO:sqlalchemy.engine.Engine:[generated in 0.00046s] (datetime.datetime(2025, 5, 25, 0, 0), datetime.datetime(2025, 6, 24, 23, 59, 59), '已结账')
INFO:     None:0 - "GET /report/sales?start=2025-05-25&end=2025-06-24&unit=day HTTP/1.1" 200 OK
2025-06-24 19:30:04,898 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-24 19:30:06,296 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:30:06,296 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests]
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests]
2025-06-24 19:30:06,296 INFO sqlalchemy.engine.Engine [generated in 0.00036s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00036s] ()
2025-06-24 19:30:06,300 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-24 19:30:06,300 INFO sqlalchemy.engine.Engine [generated in 0.00048s] (1,)
INFO:sqlalchemy.engine.Engine:[generated in 0.00048s] (1,)
2025-06-24 19:30:06,300 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-24 19:30:06,300 INFO sqlalchemy.engine.Engine [cached since 0.003975s ago] (2,)
INFO:sqlalchemy.engine.Engine:[cached since 0.003975s ago] (2,)
2025-06-24 19:30:06,300 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-24 19:30:06,300 INFO sqlalchemy.engine.Engine [cached since 0.005545s ago] (3,)
INFO:sqlalchemy.engine.Engine:[cached since 0.005545s ago] (3,)
2025-06-24 19:30:06,300 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-24 19:30:06,300 INFO sqlalchemy.engine.Engine [cached since 0.007311s ago] (4,)
INFO:sqlalchemy.engine.Engine:[cached since 0.007311s ago] (4,)
2025-06-24 19:30:06,300 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-24 19:30:06,300 INFO sqlalchemy.engine.Engine [cached since 0.008821s ago] (5,)
INFO:sqlalchemy.engine.Engine:[cached since 0.008821s ago] (5,)
2025-06-24 19:30:06,312 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[GuestID] = ?
2025-06-24 19:30:06,312 INFO sqlalchemy.engine.Engine [cached since 0.01073s ago] (6,)
INFO:sqlalchemy.engine.Engine:[cached since 0.01073s ago] (6,)
INFO:     None:0 - "GET /guests HTTP/1.1" 200 OK
2025-06-24 19:30:06,312 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:__main__:正在获取订单列表...
2025-06-24 19:30:08,150 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:30:08,154 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] ORDER BY [Bills].[BillDate] DESC
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] ORDER BY [Bills].[BillDate] DESC
2025-06-24 19:30:08,154 INFO sqlalchemy.engine.Engine [cached since 15.54s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 15.54s ago] ()
INFO:__main__:成功获取到 3 个订单
2025-06-24 19:30:08,156 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-24 19:30:08,157 INFO sqlalchemy.engine.Engine [cached since 15.54s ago] (6,)
INFO:sqlalchemy.engine.Engine:[cached since 15.54s ago] (6,)
2025-06-24 19:30:08,159 INFO sqlalchemy.engine.Engine SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
2025-06-24 19:30:08,159 INFO sqlalchemy.engine.Engine [cached since 15.53s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 15.53s ago] (1,)
2025-06-24 19:30:08,159 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-24 19:30:08,159 INFO sqlalchemy.engine.Engine [cached since 15.53s ago] (3,)
INFO:sqlalchemy.engine.Engine:[cached since 15.53s ago] (3,)
2025-06-24 19:30:08,162 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-24 19:30:08,162 INFO sqlalchemy.engine.Engine [cached since 15.54s ago] (4,)
INFO:sqlalchemy.engine.Engine:[cached since 15.54s ago] (4,)
2025-06-24 19:30:08,164 INFO sqlalchemy.engine.Engine SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
2025-06-24 19:30:08,164 INFO sqlalchemy.engine.Engine [cached since 15.54s ago] (3,)
INFO:sqlalchemy.engine.Engine:[cached since 15.54s ago] (3,)
2025-06-24 19:30:08,166 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-24 19:30:08,167 INFO sqlalchemy.engine.Engine [cached since 15.54s ago] (2,)
INFO:sqlalchemy.engine.Engine:[cached since 15.54s ago] (2,)
2025-06-24 19:30:08,167 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-24 19:30:08,167 INFO sqlalchemy.engine.Engine [cached since 15.55s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 15.55s ago] (1,)
2025-06-24 19:30:08,167 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-24 19:30:08,171 INFO sqlalchemy.engine.Engine [cached since 15.54s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 15.54s ago] (1,)
INFO:     None:0 - "GET /bills HTTP/1.1" 200 OK
2025-06-24 19:30:08,171 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-24 19:30:09,558 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:30:09,563 INFO sqlalchemy.engine.Engine SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]
2025-06-24 19:30:09,563 INFO sqlalchemy.engine.Engine [cached since 16.95s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 16.95s ago] ()
INFO:     None:0 - "GET /products HTTP/1.1" 200 OK
2025-06-24 19:30:09,566 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:__main__:正在获取订单列表...
2025-06-24 19:30:09,842 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:30:09,843 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] ORDER BY [Bills].[BillDate] DESC
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] ORDER BY [Bills].[BillDate] DESC
2025-06-24 19:30:09,843 INFO sqlalchemy.engine.Engine [cached since 17.23s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 17.23s ago] ()
INFO:__main__:成功获取到 3 个订单
2025-06-24 19:30:09,846 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-24 19:30:09,846 INFO sqlalchemy.engine.Engine [cached since 17.23s ago] (6,)
INFO:sqlalchemy.engine.Engine:[cached since 17.23s ago] (6,)
2025-06-24 19:30:09,846 INFO sqlalchemy.engine.Engine SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
2025-06-24 19:30:09,846 INFO sqlalchemy.engine.Engine [cached since 17.22s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 17.22s ago] (1,)
2025-06-24 19:30:09,846 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-24 19:30:09,850 INFO sqlalchemy.engine.Engine [cached since 17.22s ago] (3,)
INFO:sqlalchemy.engine.Engine:[cached since 17.22s ago] (3,)
2025-06-24 19:30:09,850 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-24 19:30:09,850 INFO sqlalchemy.engine.Engine [cached since 17.23s ago] (4,)
INFO:sqlalchemy.engine.Engine:[cached since 17.23s ago] (4,)
2025-06-24 19:30:09,850 INFO sqlalchemy.engine.Engine SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
2025-06-24 19:30:09,850 INFO sqlalchemy.engine.Engine [cached since 17.23s ago] (3,)
INFO:sqlalchemy.engine.Engine:[cached since 17.23s ago] (3,)
2025-06-24 19:30:09,854 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-24 19:30:09,854 INFO sqlalchemy.engine.Engine [cached since 17.22s ago] (2,)
INFO:sqlalchemy.engine.Engine:[cached since 17.22s ago] (2,)
2025-06-24 19:30:09,854 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-24 19:30:09,854 INFO sqlalchemy.engine.Engine [cached since 17.24s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 17.24s ago] (1,)
2025-06-24 19:30:09,857 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-24 19:30:09,857 INFO sqlalchemy.engine.Engine [cached since 17.23s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 17.23s ago] (1,)
INFO:     None:0 - "GET /bills HTTP/1.1" 200 OK
2025-06-24 19:30:09,858 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-24 19:30:25,038 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:30:25,038 INFO sqlalchemy.engine.Engine SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]
2025-06-24 19:30:25,038 INFO sqlalchemy.engine.Engine [cached since 32.43s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 32.43s ago] ()
INFO:     None:0 - "GET /products HTTP/1.1" 200 OK
2025-06-24 19:30:25,046 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-24 19:30:43,771 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:30:43,772 INFO sqlalchemy.engine.Engine SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
INFO:sqlalchemy.engine.Engine:SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-24 19:30:43,772 INFO sqlalchemy.engine.Engine [generated in 0.00042s] (1,)
INFO:sqlalchemy.engine.Engine:[generated in 0.00042s] (1,)
E:\DB课设\backend-python-minimal\app.py:121: PydanticDeprecatedSince20: The `dict` method is deprecated; use `model_dump` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.5/migration/
  for key, value in product.dict().items():
2025-06-24 19:30:43,780 INFO sqlalchemy.engine.Engine UPDATE [Products] SET [Stock]=? WHERE [Products].[ProductID] = ?
INFO:sqlalchemy.engine.Engine:UPDATE [Products] SET [Stock]=? WHERE [Products].[ProductID] = ?
2025-06-24 19:30:43,780 INFO sqlalchemy.engine.Engine [generated in 0.00042s] (2, 1)
INFO:sqlalchemy.engine.Engine:[generated in 0.00042s] (2, 1)
2025-06-24 19:30:43,830 INFO sqlalchemy.engine.Engine COMMIT
INFO:sqlalchemy.engine.Engine:COMMIT
2025-06-24 19:30:43,847 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:30:43,847 INFO sqlalchemy.engine.Engine SELECT [Products].[ProductID], [Products].[Name], [Products].[Price], [Products].[Stock], [Products].[Unit], [Products].[LastInDate], [Products].[CategoryID] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Products].[ProductID], [Products].[Name], [Products].[Price], [Products].[Stock], [Products].[Unit], [Products].[LastInDate], [Products].[CategoryID] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-24 19:30:43,850 INFO sqlalchemy.engine.Engine [generated in 0.00050s] (1,)
INFO:sqlalchemy.engine.Engine:[generated in 0.00050s] (1,)
INFO:     None:0 - "PUT /products/1 HTTP/1.1" 200 OK
2025-06-24 19:30:43,855 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-24 19:30:44,180 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:30:44,180 INFO sqlalchemy.engine.Engine SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]
2025-06-24 19:30:44,180 INFO sqlalchemy.engine.Engine [cached since 51.57s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 51.57s ago] ()
INFO:     None:0 - "GET /products HTTP/1.1" 200 OK
2025-06-24 19:30:44,180 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:__main__:正在获取订单列表...
2025-06-24 19:30:49,084 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:30:49,084 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] ORDER BY [Bills].[BillDate] DESC
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] ORDER BY [Bills].[BillDate] DESC
2025-06-24 19:30:49,084 INFO sqlalchemy.engine.Engine [cached since 56.48s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 56.48s ago] ()
INFO:__main__:成功获取到 3 个订单
2025-06-24 19:30:49,098 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-24 19:30:49,098 INFO sqlalchemy.engine.Engine [cached since 56.48s ago] (6,)
INFO:sqlalchemy.engine.Engine:[cached since 56.48s ago] (6,)
2025-06-24 19:30:49,102 INFO sqlalchemy.engine.Engine SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
2025-06-24 19:30:49,102 INFO sqlalchemy.engine.Engine [cached since 56.48s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 56.48s ago] (1,)
2025-06-24 19:30:49,105 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-24 19:30:49,105 INFO sqlalchemy.engine.Engine [cached since 56.48s ago] (3,)
INFO:sqlalchemy.engine.Engine:[cached since 56.48s ago] (3,)
2025-06-24 19:30:49,105 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-24 19:30:49,105 INFO sqlalchemy.engine.Engine [cached since 56.49s ago] (4,)
INFO:sqlalchemy.engine.Engine:[cached since 56.49s ago] (4,)
2025-06-24 19:30:49,105 INFO sqlalchemy.engine.Engine SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
2025-06-24 19:30:49,105 INFO sqlalchemy.engine.Engine [cached since 56.49s ago] (3,)
INFO:sqlalchemy.engine.Engine:[cached since 56.49s ago] (3,)
2025-06-24 19:30:49,105 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-24 19:30:49,105 INFO sqlalchemy.engine.Engine [cached since 56.48s ago] (2,)
INFO:sqlalchemy.engine.Engine:[cached since 56.48s ago] (2,)
2025-06-24 19:30:49,105 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-24 19:30:49,105 INFO sqlalchemy.engine.Engine [cached since 56.49s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 56.49s ago] (1,)
2025-06-24 19:30:49,105 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-24 19:30:49,105 INFO sqlalchemy.engine.Engine [cached since 56.48s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 56.48s ago] (1,)
INFO:     None:0 - "GET /bills HTTP/1.1" 200 OK
2025-06-24 19:30:49,105 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:__main__:正在获取订单列表...
2025-06-24 19:32:03,219 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:32:03,219 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] ORDER BY [Bills].[BillDate] DESC
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] ORDER BY [Bills].[BillDate] DESC
2025-06-24 19:32:03,219 INFO sqlalchemy.engine.Engine [cached since 130.6s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 130.6s ago] ()
INFO:__main__:成功获取到 3 个订单
2025-06-24 19:32:03,231 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-24 19:32:03,231 INFO sqlalchemy.engine.Engine [cached since 130.6s ago] (6,)
INFO:sqlalchemy.engine.Engine:[cached since 130.6s ago] (6,)
2025-06-24 19:32:03,235 INFO sqlalchemy.engine.Engine SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
2025-06-24 19:32:03,235 INFO sqlalchemy.engine.Engine [cached since 130.6s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 130.6s ago] (1,)
2025-06-24 19:32:03,237 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-24 19:32:03,237 INFO sqlalchemy.engine.Engine [cached since 130.6s ago] (3,)
INFO:sqlalchemy.engine.Engine:[cached since 130.6s ago] (3,)
2025-06-24 19:32:03,241 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-24 19:32:03,241 INFO sqlalchemy.engine.Engine [cached since 130.6s ago] (4,)
INFO:sqlalchemy.engine.Engine:[cached since 130.6s ago] (4,)
2025-06-24 19:32:03,241 INFO sqlalchemy.engine.Engine SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
2025-06-24 19:32:03,241 INFO sqlalchemy.engine.Engine [cached since 130.6s ago] (3,)
INFO:sqlalchemy.engine.Engine:[cached since 130.6s ago] (3,)
2025-06-24 19:32:03,243 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-24 19:32:03,243 INFO sqlalchemy.engine.Engine [cached since 130.6s ago] (2,)
INFO:sqlalchemy.engine.Engine:[cached since 130.6s ago] (2,)
2025-06-24 19:32:03,243 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-24 19:32:03,243 INFO sqlalchemy.engine.Engine [cached since 130.6s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 130.6s ago] (1,)
2025-06-24 19:32:03,243 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-24 19:32:03,243 INFO sqlalchemy.engine.Engine [cached since 130.6s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 130.6s ago] (1,)
INFO:     None:0 - "GET /bills HTTP/1.1" 200 OK
2025-06-24 19:32:03,243 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:__main__:正在获取订单列表...
2025-06-24 19:32:03,251 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:32:03,251 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] ORDER BY [Bills].[BillDate] DESC
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] ORDER BY [Bills].[BillDate] DESC
2025-06-24 19:32:03,251 INFO sqlalchemy.engine.Engine [cached since 130.6s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 130.6s ago] ()
INFO:__main__:成功获取到 3 个订单
2025-06-24 19:32:03,251 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-24 19:32:03,251 INFO sqlalchemy.engine.Engine [cached since 130.6s ago] (6,)
INFO:sqlalchemy.engine.Engine:[cached since 130.6s ago] (6,)
2025-06-24 19:32:03,251 INFO sqlalchemy.engine.Engine SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
2025-06-24 19:32:03,251 INFO sqlalchemy.engine.Engine [cached since 130.6s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 130.6s ago] (1,)
2025-06-24 19:32:03,251 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-24 19:32:03,251 INFO sqlalchemy.engine.Engine [cached since 130.6s ago] (3,)
INFO:sqlalchemy.engine.Engine:[cached since 130.6s ago] (3,)
2025-06-24 19:32:03,264 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-24 19:32:03,264 INFO sqlalchemy.engine.Engine [cached since 130.6s ago] (4,)
INFO:sqlalchemy.engine.Engine:[cached since 130.6s ago] (4,)
2025-06-24 19:32:03,264 INFO sqlalchemy.engine.Engine SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
2025-06-24 19:32:03,264 INFO sqlalchemy.engine.Engine [cached since 130.6s ago] (3,)
INFO:sqlalchemy.engine.Engine:[cached since 130.6s ago] (3,)
2025-06-24 19:32:03,264 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-24 19:32:03,267 INFO sqlalchemy.engine.Engine [cached since 130.6s ago] (2,)
INFO:sqlalchemy.engine.Engine:[cached since 130.6s ago] (2,)
2025-06-24 19:32:03,267 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-24 19:32:03,267 INFO sqlalchemy.engine.Engine [cached since 130.6s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 130.6s ago] (1,)
2025-06-24 19:32:03,267 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-24 19:32:03,267 INFO sqlalchemy.engine.Engine [cached since 130.6s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 130.6s ago] (1,)
INFO:     None:0 - "GET /bills HTTP/1.1" 200 OK
2025-06-24 19:32:03,267 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:__main__:正在获取订单列表...
2025-06-24 19:32:03,513 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:32:03,513 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] ORDER BY [Bills].[BillDate] DESC
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] ORDER BY [Bills].[BillDate] DESC
2025-06-24 19:32:03,513 INFO sqlalchemy.engine.Engine [cached since 130.9s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 130.9s ago] ()
INFO:__main__:成功获取到 3 个订单
2025-06-24 19:32:03,513 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-24 19:32:03,513 INFO sqlalchemy.engine.Engine [cached since 130.9s ago] (6,)
INFO:sqlalchemy.engine.Engine:[cached since 130.9s ago] (6,)
2025-06-24 19:32:03,513 INFO sqlalchemy.engine.Engine SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
2025-06-24 19:32:03,513 INFO sqlalchemy.engine.Engine [cached since 130.9s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 130.9s ago] (1,)
2025-06-24 19:32:03,513 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-24 19:32:03,513 INFO sqlalchemy.engine.Engine [cached since 130.9s ago] (3,)
INFO:sqlalchemy.engine.Engine:[cached since 130.9s ago] (3,)
2025-06-24 19:32:03,513 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-24 19:32:03,513 INFO sqlalchemy.engine.Engine [cached since 130.9s ago] (4,)
INFO:sqlalchemy.engine.Engine:[cached since 130.9s ago] (4,)
2025-06-24 19:32:03,513 INFO sqlalchemy.engine.Engine SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
2025-06-24 19:32:03,513 INFO sqlalchemy.engine.Engine [cached since 130.9s ago] (3,)
INFO:sqlalchemy.engine.Engine:[cached since 130.9s ago] (3,)
2025-06-24 19:32:03,513 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-24 19:32:03,513 INFO sqlalchemy.engine.Engine [cached since 130.9s ago] (2,)
INFO:sqlalchemy.engine.Engine:[cached since 130.9s ago] (2,)
2025-06-24 19:32:03,513 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-24 19:32:03,513 INFO sqlalchemy.engine.Engine [cached since 130.9s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 130.9s ago] (1,)
2025-06-24 19:32:03,513 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-24 19:32:03,513 INFO sqlalchemy.engine.Engine [cached since 130.9s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 130.9s ago] (1,)
INFO:     None:0 - "GET /bills HTTP/1.1" 200 OK
2025-06-24 19:32:03,527 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:__main__:正在获取订单列表...
2025-06-24 19:32:03,529 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:32:03,529 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] ORDER BY [Bills].[BillDate] DESC
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] ORDER BY [Bills].[BillDate] DESC
2025-06-24 19:32:03,529 INFO sqlalchemy.engine.Engine [cached since 130.9s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 130.9s ago] ()
INFO:__main__:成功获取到 3 个订单
2025-06-24 19:32:03,529 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-24 19:32:03,529 INFO sqlalchemy.engine.Engine [cached since 130.9s ago] (6,)
INFO:sqlalchemy.engine.Engine:[cached since 130.9s ago] (6,)
2025-06-24 19:32:03,529 INFO sqlalchemy.engine.Engine SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
2025-06-24 19:32:03,529 INFO sqlalchemy.engine.Engine [cached since 130.9s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 130.9s ago] (1,)
2025-06-24 19:32:03,529 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-24 19:32:03,529 INFO sqlalchemy.engine.Engine [cached since 130.9s ago] (3,)
INFO:sqlalchemy.engine.Engine:[cached since 130.9s ago] (3,)
2025-06-24 19:32:03,529 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-24 19:32:03,529 INFO sqlalchemy.engine.Engine [cached since 130.9s ago] (4,)
INFO:sqlalchemy.engine.Engine:[cached since 130.9s ago] (4,)
2025-06-24 19:32:03,529 INFO sqlalchemy.engine.Engine SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
2025-06-24 19:32:03,529 INFO sqlalchemy.engine.Engine [cached since 130.9s ago] (3,)
INFO:sqlalchemy.engine.Engine:[cached since 130.9s ago] (3,)
2025-06-24 19:32:03,529 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-24 19:32:03,529 INFO sqlalchemy.engine.Engine [cached since 130.9s ago] (2,)
INFO:sqlalchemy.engine.Engine:[cached since 130.9s ago] (2,)
2025-06-24 19:32:03,529 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-24 19:32:03,529 INFO sqlalchemy.engine.Engine [cached since 130.9s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 130.9s ago] (1,)
2025-06-24 19:32:03,545 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-24 19:32:03,545 INFO sqlalchemy.engine.Engine [cached since 130.9s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 130.9s ago] (1,)
INFO:     None:0 - "GET /bills HTTP/1.1" 200 OK
2025-06-24 19:32:03,545 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-24 19:34:28,418 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:34:28,418 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
2025-06-24 19:34:28,418 INFO sqlalchemy.engine.Engine [cached since 263.5s ago] (datetime.datetime(2025, 5, 25, 0, 0), datetime.datetime(2025, 6, 24, 23, 59, 59), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 263.5s ago] (datetime.datetime(2025, 5, 25, 0, 0), datetime.datetime(2025, 6, 24, 23, 59, 59), '已结账')
2025-06-24 19:34:28,438 INFO sqlalchemy.engine.Engine SELECT TOP 10 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales, sum([BillItems].[Price] * [BillItems].[Quantity]) AS revenue 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
INFO:sqlalchemy.engine.Engine:SELECT TOP 10 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales, sum([BillItems].[Price] * [BillItems].[Quantity]) AS revenue 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
2025-06-24 19:34:28,438 INFO sqlalchemy.engine.Engine [cached since 263.6s ago] (datetime.datetime(2025, 5, 25, 0, 0), datetime.datetime(2025, 6, 24, 23, 59, 59), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 263.6s ago] (datetime.datetime(2025, 5, 25, 0, 0), datetime.datetime(2025, 6, 24, 23, 59, 59), '已结账')
INFO:     None:0 - "GET /report/sales?start=2025-05-25&end=2025-06-24&unit=day HTTP/1.1" 200 OK
2025-06-24 19:34:28,450 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:__main__:正在获取订单列表...
2025-06-24 19:34:35,236 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:34:35,237 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] ORDER BY [Bills].[BillDate] DESC
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] ORDER BY [Bills].[BillDate] DESC
2025-06-24 19:34:35,237 INFO sqlalchemy.engine.Engine [cached since 282.6s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 282.6s ago] ()
INFO:__main__:成功获取到 3 个订单
2025-06-24 19:34:35,238 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-24 19:34:35,238 INFO sqlalchemy.engine.Engine [cached since 282.6s ago] (6,)
INFO:sqlalchemy.engine.Engine:[cached since 282.6s ago] (6,)
2025-06-24 19:34:35,238 INFO sqlalchemy.engine.Engine SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
2025-06-24 19:34:35,238 INFO sqlalchemy.engine.Engine [cached since 282.6s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 282.6s ago] (1,)
2025-06-24 19:34:35,245 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-24 19:34:35,245 INFO sqlalchemy.engine.Engine [cached since 282.6s ago] (3,)
INFO:sqlalchemy.engine.Engine:[cached since 282.6s ago] (3,)
2025-06-24 19:34:35,245 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-24 19:34:35,245 INFO sqlalchemy.engine.Engine [cached since 282.6s ago] (4,)
INFO:sqlalchemy.engine.Engine:[cached since 282.6s ago] (4,)
2025-06-24 19:34:35,253 INFO sqlalchemy.engine.Engine SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
2025-06-24 19:34:35,253 INFO sqlalchemy.engine.Engine [cached since 282.6s ago] (3,)
INFO:sqlalchemy.engine.Engine:[cached since 282.6s ago] (3,)
2025-06-24 19:34:35,255 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-24 19:34:35,255 INFO sqlalchemy.engine.Engine [cached since 282.6s ago] (2,)
INFO:sqlalchemy.engine.Engine:[cached since 282.6s ago] (2,)
2025-06-24 19:34:35,255 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-24 19:34:35,255 INFO sqlalchemy.engine.Engine [cached since 282.6s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 282.6s ago] (1,)
2025-06-24 19:34:35,255 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-24 19:34:35,255 INFO sqlalchemy.engine.Engine [cached since 282.6s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 282.6s ago] (1,)
INFO:     None:0 - "GET /bills HTTP/1.1" 200 OK
2025-06-24 19:34:35,255 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-24 19:34:36,292 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:34:36,292 INFO sqlalchemy.engine.Engine SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]
2025-06-24 19:34:36,292 INFO sqlalchemy.engine.Engine [cached since 283.7s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 283.7s ago] ()
INFO:     None:0 - "GET /products HTTP/1.1" 200 OK
2025-06-24 19:34:36,297 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-24 19:34:37,133 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:34:37,134 INFO sqlalchemy.engine.Engine SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]
2025-06-24 19:34:37,134 INFO sqlalchemy.engine.Engine [cached since 284.5s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 284.5s ago] ()
INFO:     None:0 - "GET /products HTTP/1.1" 200 OK
2025-06-24 19:34:37,134 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-24 19:34:38,751 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:34:38,751 INFO sqlalchemy.engine.Engine SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]
2025-06-24 19:34:38,751 INFO sqlalchemy.engine.Engine [cached since 286.1s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 286.1s ago] ()
INFO:     None:0 - "GET /products HTTP/1.1" 200 OK
2025-06-24 19:34:38,755 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     None:0 - "GET /health HTTP/1.1" 200 OK
2025-06-24 19:34:41,288 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:34:41,288 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]) AS anon_1
2025-06-24 19:34:41,288 INFO sqlalchemy.engine.Engine [cached since 283.3s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 283.3s ago] ()
2025-06-24 19:34:41,292 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills]) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills]) AS anon_1
2025-06-24 19:34:41,292 INFO sqlalchemy.engine.Engine [cached since 283.3s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 283.3s ago] ()
2025-06-24 19:34:41,292 INFO sqlalchemy.engine.Engine SELECT sum([Products].[Stock]) AS sum_1 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT sum([Products].[Stock]) AS sum_1 
FROM [Products]
2025-06-24 19:34:41,296 INFO sqlalchemy.engine.Engine [cached since 283.3s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 283.3s ago] ()
2025-06-24 19:34:41,297 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products] 
WHERE [Products].[Stock] < ?) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products] 
WHERE [Products].[Stock] < ?) AS anon_1
2025-06-24 19:34:41,297 INFO sqlalchemy.engine.Engine [cached since 283.3s ago] (10,)
INFO:sqlalchemy.engine.Engine:[cached since 283.3s ago] (10,)
INFO:     None:0 - "GET /stats HTTP/1.1" 200 OK
2025-06-24 19:34:41,300 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-24 19:34:41,543 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:34:41,543 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-24 19:34:41,543 INFO sqlalchemy.engine.Engine [cached since 283.2s ago] (datetime.datetime(2025, 6, 24, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 283.2s ago] (datetime.datetime(2025, 6, 24, 0, 0), '已结账')
2025-06-24 19:34:41,547 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-24 19:34:41,547 INFO sqlalchemy.engine.Engine [cached since 283.2s ago] (datetime.datetime(2025, 6, 23, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 283.2s ago] (datetime.datetime(2025, 6, 23, 0, 0), '已结账')
2025-06-24 19:34:41,550 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
2025-06-24 19:34:41,550 INFO sqlalchemy.engine.Engine [cached since 283.2s ago] (datetime.datetime(2025, 6, 16, 0, 0), datetime.datetime(2025, 6, 22, 23, 59, 59), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 283.2s ago] (datetime.datetime(2025, 6, 16, 0, 0), datetime.datetime(2025, 6, 22, 23, 59, 59), '已结账')
2025-06-24 19:34:41,551 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-24 19:34:41,551 INFO sqlalchemy.engine.Engine [cached since 283.2s ago] (datetime.datetime(2025, 6, 1, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 283.2s ago] (datetime.datetime(2025, 6, 1, 0, 0), '已结账')
INFO:     None:0 - "GET /dashboard/sales HTTP/1.1" 200 OK
2025-06-24 19:34:41,555 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-24 19:34:41,613 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:34:41,613 INFO sqlalchemy.engine.Engine SELECT TOP 5 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
INFO:sqlalchemy.engine.Engine:SELECT TOP 5 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
2025-06-24 19:34:41,613 INFO sqlalchemy.engine.Engine [cached since 283.1s ago] ('已结账',)
INFO:sqlalchemy.engine.Engine:[cached since 283.1s ago] ('已结账',)
INFO:     None:0 - "GET /dashboard/top-products?limit=5 HTTP/1.1" 200 OK
2025-06-24 19:34:41,621 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-24 19:39:22,276 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:39:22,276 INFO sqlalchemy.engine.Engine SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]
2025-06-24 19:39:22,276 INFO sqlalchemy.engine.Engine [cached since 569.7s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 569.7s ago] ()
INFO:     None:0 - "GET /products HTTP/1.1" 200 OK
2025-06-24 19:39:22,285 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-24 19:39:23,060 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:39:23,063 INFO sqlalchemy.engine.Engine SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]
2025-06-24 19:39:23,064 INFO sqlalchemy.engine.Engine [cached since 570.5s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 570.5s ago] ()
INFO:     None:0 - "GET /products HTTP/1.1" 200 OK
2025-06-24 19:39:23,064 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-24 19:39:25,089 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:39:25,089 INFO sqlalchemy.engine.Engine SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]
2025-06-24 19:39:25,089 INFO sqlalchemy.engine.Engine [cached since 572.5s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 572.5s ago] ()
INFO:     None:0 - "GET /products HTTP/1.1" 200 OK
2025-06-24 19:39:25,093 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-24 19:39:29,360 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:39:29,360 INFO sqlalchemy.engine.Engine SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]
2025-06-24 19:39:29,360 INFO sqlalchemy.engine.Engine [cached since 576.7s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 576.7s ago] ()
INFO:     None:0 - "GET /products HTTP/1.1" 200 OK
2025-06-24 19:39:29,363 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-24 19:39:30,501 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:39:30,501 INFO sqlalchemy.engine.Engine SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]
2025-06-24 19:39:30,501 INFO sqlalchemy.engine.Engine [cached since 577.9s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 577.9s ago] ()
INFO:     None:0 - "GET /products HTTP/1.1" 200 OK
2025-06-24 19:39:30,505 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-24 19:39:35,619 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:39:35,619 INFO sqlalchemy.engine.Engine SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]
2025-06-24 19:39:35,620 INFO sqlalchemy.engine.Engine [cached since 583s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 583s ago] ()
INFO:     None:0 - "GET /products HTTP/1.1" 200 OK
2025-06-24 19:39:35,624 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-24 19:39:36,239 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:39:36,239 INFO sqlalchemy.engine.Engine SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]
2025-06-24 19:39:36,243 INFO sqlalchemy.engine.Engine [cached since 583.6s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 583.6s ago] ()
INFO:     None:0 - "GET /products HTTP/1.1" 200 OK
2025-06-24 19:39:36,245 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:__main__:正在获取订单列表...
2025-06-24 19:39:36,493 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:39:36,493 INFO sqlalchemy.engine.Engine SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] ORDER BY [Bills].[BillDate] DESC
INFO:sqlalchemy.engine.Engine:SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills] ORDER BY [Bills].[BillDate] DESC
2025-06-24 19:39:36,493 INFO sqlalchemy.engine.Engine [cached since 583.9s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 583.9s ago] ()
INFO:__main__:成功获取到 3 个订单
2025-06-24 19:39:36,510 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-24 19:39:36,510 INFO sqlalchemy.engine.Engine [cached since 583.9s ago] (6,)
INFO:sqlalchemy.engine.Engine:[cached since 583.9s ago] (6,)
2025-06-24 19:39:36,510 INFO sqlalchemy.engine.Engine SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
2025-06-24 19:39:36,514 INFO sqlalchemy.engine.Engine [cached since 583.9s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 583.9s ago] (1,)
2025-06-24 19:39:36,514 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-24 19:39:36,514 INFO sqlalchemy.engine.Engine [cached since 583.9s ago] (3,)
INFO:sqlalchemy.engine.Engine:[cached since 583.9s ago] (3,)
2025-06-24 19:39:36,518 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-24 19:39:36,518 INFO sqlalchemy.engine.Engine [cached since 583.9s ago] (4,)
INFO:sqlalchemy.engine.Engine:[cached since 583.9s ago] (4,)
2025-06-24 19:39:36,518 INFO sqlalchemy.engine.Engine SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Employees].[EmployeeID] AS [Employees_EmployeeID], [Employees].[Name] AS [Employees_Name], [Employees].[Gender] AS [Employees_Gender], [Employees].[BirthDate] AS [Employees_BirthDate], [Employees].[Position] AS [Employees_Position], [Employees].[Phone] AS [Employees_Phone] 
FROM [Employees] 
WHERE [Employees].[EmployeeID] = ?
2025-06-24 19:39:36,518 INFO sqlalchemy.engine.Engine [cached since 583.9s ago] (3,)
INFO:sqlalchemy.engine.Engine:[cached since 583.9s ago] (3,)
2025-06-24 19:39:36,522 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-24 19:39:36,522 INFO sqlalchemy.engine.Engine [cached since 583.9s ago] (2,)
INFO:sqlalchemy.engine.Engine:[cached since 583.9s ago] (2,)
2025-06-24 19:39:36,522 INFO sqlalchemy.engine.Engine SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [Guests].[GuestID] AS [Guests_GuestID], [Guests].[Name] AS [Guests_Name], [Guests].[MembershipID] AS [Guests_MembershipID], [Guests].[Points] AS [Guests_Points] 
FROM [Guests] 
WHERE [Guests].[GuestID] = ?
2025-06-24 19:39:36,522 INFO sqlalchemy.engine.Engine [cached since 583.9s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 583.9s ago] (1,)
2025-06-24 19:39:36,526 INFO sqlalchemy.engine.Engine SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
INFO:sqlalchemy.engine.Engine:SELECT [BillItems].[BillItemID] AS [BillItems_BillItemID], [BillItems].[BillID] AS [BillItems_BillID], [BillItems].[ProductID] AS [BillItems_ProductID], [BillItems].[Quantity] AS [BillItems_Quantity], [BillItems].[Price] AS [BillItems_Price] 
FROM [BillItems] 
WHERE [BillItems].[BillID] = ?
2025-06-24 19:39:36,526 INFO sqlalchemy.engine.Engine [cached since 583.9s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 583.9s ago] (1,)
INFO:     None:0 - "GET /bills HTTP/1.1" 200 OK
2025-06-24 19:39:36,529 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-24 19:39:44,273 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:39:44,276 INFO sqlalchemy.engine.Engine SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
INFO:sqlalchemy.engine.Engine:SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-24 19:39:44,276 INFO sqlalchemy.engine.Engine [cached since 540.5s ago] (1,)
INFO:sqlalchemy.engine.Engine:[cached since 540.5s ago] (1,)
INFO:     None:0 - "GET /products/1 HTTP/1.1" 200 OK
2025-06-24 19:39:44,281 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-24 19:39:58,206 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:39:58,206 INFO sqlalchemy.engine.Engine SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
INFO:sqlalchemy.engine.Engine:SELECT TOP 1 [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products] 
WHERE [Products].[ProductID] = ?
2025-06-24 19:39:58,206 INFO sqlalchemy.engine.Engine [cached since 554.4s ago] (2,)
INFO:sqlalchemy.engine.Engine:[cached since 554.4s ago] (2,)
INFO:     None:0 - "GET /products/2 HTTP/1.1" 200 OK
2025-06-24 19:39:58,210 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     None:0 - "POST /bills HTTP/1.1" 422 Unprocessable Entity
INFO:     None:0 - "POST /bills HTTP/1.1" 422 Unprocessable Entity
INFO:     None:0 - "POST /bills HTTP/1.1" 422 Unprocessable Entity
INFO:     None:0 - "POST /bills HTTP/1.1" 422 Unprocessable Entity
2025-06-24 19:44:57,765 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:44:57,765 INFO sqlalchemy.engine.Engine SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]
2025-06-24 19:44:57,765 INFO sqlalchemy.engine.Engine [cached since 905.2s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 905.2s ago] ()
INFO:     None:0 - "GET /products HTTP/1.1" 200 OK
2025-06-24 19:44:57,782 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     None:0 - "GET /health HTTP/1.1" 200 OK
2025-06-24 19:45:04,707 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:45:04,707 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]) AS anon_1
2025-06-24 19:45:04,707 INFO sqlalchemy.engine.Engine [cached since 906.7s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 906.7s ago] ()
2025-06-24 19:45:04,711 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills]) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills]) AS anon_1
2025-06-24 19:45:04,711 INFO sqlalchemy.engine.Engine [cached since 906.7s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 906.7s ago] ()
2025-06-24 19:45:04,766 INFO sqlalchemy.engine.Engine SELECT sum([Products].[Stock]) AS sum_1 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT sum([Products].[Stock]) AS sum_1 
FROM [Products]
2025-06-24 19:45:04,766 INFO sqlalchemy.engine.Engine [cached since 906.8s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 906.8s ago] ()
2025-06-24 19:45:04,766 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products] 
WHERE [Products].[Stock] < ?) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products] 
WHERE [Products].[Stock] < ?) AS anon_1
2025-06-24 19:45:04,795 INFO sqlalchemy.engine.Engine [cached since 906.8s ago] (10,)
INFO:sqlalchemy.engine.Engine:[cached since 906.8s ago] (10,)
INFO:     None:0 - "GET /stats HTTP/1.1" 200 OK
2025-06-24 19:45:04,799 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-24 19:45:04,957 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:45:04,957 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-24 19:45:04,957 INFO sqlalchemy.engine.Engine [cached since 906.7s ago] (datetime.datetime(2025, 6, 24, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 906.7s ago] (datetime.datetime(2025, 6, 24, 0, 0), '已结账')
2025-06-24 19:45:04,962 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-24 19:45:04,962 INFO sqlalchemy.engine.Engine [cached since 906.7s ago] (datetime.datetime(2025, 6, 23, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 906.7s ago] (datetime.datetime(2025, 6, 23, 0, 0), '已结账')
2025-06-24 19:45:04,965 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
2025-06-24 19:45:04,965 INFO sqlalchemy.engine.Engine [cached since 906.7s ago] (datetime.datetime(2025, 6, 16, 0, 0), datetime.datetime(2025, 6, 22, 23, 59, 59), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 906.7s ago] (datetime.datetime(2025, 6, 16, 0, 0), datetime.datetime(2025, 6, 22, 23, 59, 59), '已结账')
2025-06-24 19:45:04,970 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-24 19:45:04,970 INFO sqlalchemy.engine.Engine [cached since 906.7s ago] (datetime.datetime(2025, 6, 1, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 906.7s ago] (datetime.datetime(2025, 6, 1, 0, 0), '已结账')
INFO:     None:0 - "GET /dashboard/sales HTTP/1.1" 200 OK
2025-06-24 19:45:04,970 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-24 19:45:05,115 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:45:05,115 INFO sqlalchemy.engine.Engine SELECT TOP 5 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
INFO:sqlalchemy.engine.Engine:SELECT TOP 5 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
2025-06-24 19:45:05,115 INFO sqlalchemy.engine.Engine [cached since 906.6s ago] ('已结账',)
INFO:sqlalchemy.engine.Engine:[cached since 906.6s ago] ('已结账',)
INFO:     None:0 - "GET /dashboard/top-products?limit=5 HTTP/1.1" 200 OK
2025-06-24 19:45:05,124 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-24 19:45:07,805 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:45:07,807 INFO sqlalchemy.engine.Engine SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]
2025-06-24 19:45:07,807 INFO sqlalchemy.engine.Engine [cached since 915.2s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 915.2s ago] ()
INFO:     None:0 - "GET /products HTTP/1.1" 200 OK
2025-06-24 19:45:07,811 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-24 19:45:08,640 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:45:08,644 INFO sqlalchemy.engine.Engine SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]
2025-06-24 19:45:08,644 INFO sqlalchemy.engine.Engine [cached since 916s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 916s ago] ()
INFO:     None:0 - "GET /products HTTP/1.1" 200 OK
2025-06-24 19:45:08,647 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-24 19:45:08,895 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:45:08,895 INFO sqlalchemy.engine.Engine SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]
2025-06-24 19:45:08,895 INFO sqlalchemy.engine.Engine [cached since 916.3s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 916.3s ago] ()
INFO:     None:0 - "GET /products HTTP/1.1" 200 OK
2025-06-24 19:45:08,899 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-24 19:45:08,974 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:45:08,974 INFO sqlalchemy.engine.Engine SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]
2025-06-24 19:45:08,977 INFO sqlalchemy.engine.Engine [cached since 916.4s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 916.4s ago] ()
INFO:     None:0 - "GET /products HTTP/1.1" 200 OK
2025-06-24 19:45:08,978 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     None:0 - "GET /health HTTP/1.1" 200 OK
2025-06-24 19:48:52,977 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:48:52,977 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products]) AS anon_1
2025-06-24 19:48:52,977 INFO sqlalchemy.engine.Engine [cached since 1135s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1135s ago] ()
2025-06-24 19:48:53,056 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills]) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Bills].[BillID] AS [Bills_BillID], [Bills].[TotalAmount] AS [Bills_TotalAmount], [Bills].[Status] AS [Bills_Status], [Bills].[PaymentMethod] AS [Bills_PaymentMethod], [Bills].[BillDate] AS [Bills_BillDate], [Bills].[EmployeeID] AS [Bills_EmployeeID], [Bills].[GuestID] AS [Bills_GuestID] 
FROM [Bills]) AS anon_1
2025-06-24 19:48:53,056 INFO sqlalchemy.engine.Engine [cached since 1135s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1135s ago] ()
2025-06-24 19:48:53,081 INFO sqlalchemy.engine.Engine SELECT sum([Products].[Stock]) AS sum_1 
FROM [Products]
INFO:sqlalchemy.engine.Engine:SELECT sum([Products].[Stock]) AS sum_1 
FROM [Products]
2025-06-24 19:48:53,081 INFO sqlalchemy.engine.Engine [cached since 1135s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1135s ago] ()
2025-06-24 19:48:53,081 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products] 
WHERE [Products].[Stock] < ?) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT [Products].[ProductID] AS [Products_ProductID], [Products].[Name] AS [Products_Name], [Products].[Price] AS [Products_Price], [Products].[Stock] AS [Products_Stock], [Products].[Unit] AS [Products_Unit], [Products].[LastInDate] AS [Products_LastInDate], [Products].[CategoryID] AS [Products_CategoryID] 
FROM [Products] 
WHERE [Products].[Stock] < ?) AS anon_1
2025-06-24 19:48:53,081 INFO sqlalchemy.engine.Engine [cached since 1135s ago] (10,)
INFO:sqlalchemy.engine.Engine:[cached since 1135s ago] (10,)
INFO:     None:0 - "GET /stats HTTP/1.1" 200 OK
2025-06-24 19:48:53,081 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-24 19:48:53,098 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:48:53,098 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-24 19:48:53,098 INFO sqlalchemy.engine.Engine [cached since 1135s ago] (datetime.datetime(2025, 6, 24, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 1135s ago] (datetime.datetime(2025, 6, 24, 0, 0), '已结账')
2025-06-24 19:48:53,098 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-24 19:48:53,098 INFO sqlalchemy.engine.Engine [cached since 1135s ago] (datetime.datetime(2025, 6, 23, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 1135s ago] (datetime.datetime(2025, 6, 23, 0, 0), '已结账')
2025-06-24 19:48:53,098 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[BillDate] <= ? AND [Bills].[Status] = ?
2025-06-24 19:48:53,098 INFO sqlalchemy.engine.Engine [cached since 1135s ago] (datetime.datetime(2025, 6, 16, 0, 0), datetime.datetime(2025, 6, 22, 23, 59, 59), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 1135s ago] (datetime.datetime(2025, 6, 16, 0, 0), datetime.datetime(2025, 6, 22, 23, 59, 59), '已结账')
2025-06-24 19:48:53,098 INFO sqlalchemy.engine.Engine SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
INFO:sqlalchemy.engine.Engine:SELECT sum([Bills].[TotalAmount]) AS sum_1 
FROM [Bills] 
WHERE [Bills].[BillDate] >= ? AND [Bills].[Status] = ?
2025-06-24 19:48:53,098 INFO sqlalchemy.engine.Engine [cached since 1135s ago] (datetime.datetime(2025, 6, 1, 0, 0), '已结账')
INFO:sqlalchemy.engine.Engine:[cached since 1135s ago] (datetime.datetime(2025, 6, 1, 0, 0), '已结账')
INFO:     None:0 - "GET /dashboard/sales HTTP/1.1" 200 OK
2025-06-24 19:48:53,111 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-06-24 19:48:53,431 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-24 19:48:53,431 INFO sqlalchemy.engine.Engine SELECT TOP 5 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
INFO:sqlalchemy.engine.Engine:SELECT TOP 5 [Products].[Name] AS [Products_Name], sum([BillItems].[Quantity]) AS sales 
FROM [Products] JOIN [BillItems] ON [BillItems].[ProductID] = [Products].[ProductID] JOIN [Bills] ON [Bills].[BillID] = [BillItems].[BillID] 
WHERE [Bills].[Status] = ? GROUP BY [Products].[Name] ORDER BY sum([BillItems].[Quantity]) DESC
2025-06-24 19:48:53,431 INFO sqlalchemy.engine.Engine [cached since 1135s ago] ('已结账',)
INFO:sqlalchemy.engine.Engine:[cached since 1135s ago] ('已结账',)
INFO:     None:0 - "GET /dashboard/top-products?limit=5 HTTP/1.1" 200 OK
2025-06-24 19:48:53,452 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [9188]
